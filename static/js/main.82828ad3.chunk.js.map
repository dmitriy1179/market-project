{"version":3,"sources":["shared/images/camera.png","shared/images/avatar.png","shared/images/exchange1.png","API.js","shared/components/protected-route.jsx","shared/components/spinner.jsx","shared/components/statusResolver.jsx","screens/home/home-screen.js","screens/login/login-screen.js","shared/components/ad-item.jsx","screens/ad-find/ad-find.js","screens/ad-post/ad-post.js","screens/ad-my/ad-my-screen.js","shared/components/view-images.jsx","shared/components/ad-item-one.jsx","shared/components/ad-comments.jsx","screens/ad-my-one/ad-my-one-screen.js","screens/ad-my-edit/ad-my-edit-screen.js","shared/components/logout.js","shared/components/navbar.jsx","screens/profile-edit/profile-edit-screen.js","shared/components/messages.jsx","screens/ad-other-users-one/ad-other-users-one-screen.js","screens/ads-other-user/ads-other-user-screen.js","screens/messages/messages-screen.js","screens/messages-one-user/messages-one-user-screen.js","App.js","services/auth/reducer.js","services/auth/login-sagas.js","services/ads/reducer.js","services/ads/selectors.js","services/ads/ads-sagas.js","services/messages/reducer.js","services/messages/selectors.js","services/messages/messages-sagas.js","services/images/reducer.js","services/images/selectors.js","services/auth/selectors.js","services/images/images-saga.js","store/root-reducer.js","store/root-saga.js","store/configure-store.js","index.js"],"names":["module","exports","__webpack_require__","p","NO_CORS","ENDPOINT","concat","client","GraphQLClient","token","localStorage","getItem","console","log","setHeader","ProtectedRoute","_ref","children","dispatch","redirectTo","isAuth","rest","Object","objectWithoutProperties","setItem","decodedHeader","jwt_decode","header","e","removeItem","API","type","react_default","a","createElement","react_router","to","assign","render","_ref2","location","pathname","state","from","defaultProps","connect","auth","isLoggedIn","Spinner","className","role","StatusResolver","status","noData","content","spinner","userData","gql","_templateObject","deleteAccountMutation","_templateObject2","id","sub","_React$useState","React","useState","_React$useState2","slicedToArray","result","setResult","_React$useState3","_React$useState4","setStatus","deleteAccount","asyncToGenerator","regenerator_default","mark","_callee","res","wrap","_context","prev","next","preventDefault","request","_id","sent","t0","stop","_x","apply","this","arguments","useEffect","query","JSON","stringify","then","UserFind","searchUserData","length","statusResolver","style","width","height","avatar","src","alt","url","objectFit","fontSize","login","nick","phones","map","phone","index","key","addresses","address","Date","createdAt","toLocaleDateString","onClick","react_router_dom","CreateUserForm","values","setValues","onChange","target","objectSpread2","defineProperty","name","value","onSubmit","payload","placeholder","required","LoginForm","ChangeUserPasswordForm","_ref3","_React$useState5","_React$useState6","isNewUser","authStatus","_ref4","login_screen_LoginForm","login_screen_CreateUserForm","login_screen_ChangeUserPasswordForm","AdItem","images","title","price","owner","camera","adsData","ads","adsCount","skip","setValue","limit","setLimit","searchAds","disabled","ad","ad_item","postAd","ad_post_templateObject","arrImages","tags","isDelImage","setIsDelImage","forEach","image","push","files","multiple","i","splice","build_module","newTags","toConsumableArray","onChangeTagsInput","isDelAd","setIsDelAD","searchUserAds","adId","adIdDel","onClickDelete","ViewImages","count","setCount","AdItemOne","description","adComments","ad_comments_templateObject","addNewComment","ad_comments_templateObject2","commentFind","_templateObject3","addNewAnswer","_templateObject4","Answers","comment","setComment","answerTo","_React$useState7","_React$useState8","isClickAddAnswer","setIsClickAddAnswer","_React$useState9","_React$useState10","answersId","setAnswersId","_React$useState11","_React$useState12","isViewAnswers","setIsViewAnswers","findComment","CommentFindOne","answers","filter","answer","addAnswer","Fragment","text","arrAnswersId","answerId","keys","viewAnswers","persist","AdComments","_React$useState13","_React$useState14","_React$useState15","_React$useState16","_React$useState17","_React$useState18","_React$useState19","_React$useState20","isClickAddComment","setIsClickAddComment","_React$useState21","_React$useState22","_React$useState23","_React$useState24","findAdComments","AdFindOne","comments","addComment","ad_comments_Answers","myAdOne","ad_my_one_screen_templateObject","deleteAdMutation","ad_my_one_screen_templateObject2","MyAdOneSreen","useParams","isComments","setIsComments","searchUserAdOne","view_images","ad_item_one","ad_comments","myAdOneFind","ad_my_edit_screen_templateObject","editAd","ad_my_edit_screen_templateObject2","isRequest","setIsRequest","tagsSet","Set","AdFind","tag","add","arrayOldImages","defaultValue","handleChange","event","logout","data-toggle","profile_edit_screen_templateObject","editUser","profile_edit_screen_templateObject2","deleteAvatar","profile_edit_screen_templateObject3","isDeletedAvatar","setIsDeletedAvatar","onClickDeleteAvatar","formData","FormData","append","fetch","method","headers","Authorization","body","json","undefined","onChangePhonesInput","onChangeAddressesInput","AddMessage","userId","messageSendStatus","isSendMessage","isDisabled","isSendMessageYourself","isMessagesOneUserScreen","textareaElRef","useRef","current","ref","ad_other_users_one_screen_templateObject","messages","messageData","messageGetStatus","lastMessagesData","elem","toLocaleString","message","NotFound","App","exchange1","basename","navbar","protected_route","exact","path","home_screen","profile_edit_screen","ad_find","ad_my_screen","ad_other_users_one_screen","ads_other_user_screen","ad_my_one_screen","ad_my_edit_screen","ad_post","messages_screen","messages_one_user_screen","login_screen","App_NotFound","initialState","authReducer","action","loginRequest","loginRequestSaga","registrationRequest","registrationRequestSaga","changePasswordRequest","changePasswordRequestSaga","loginQuery","login_sagas_templateObject","data","_context7","abrupt","_yield$call","put","call","_marked","_context2","takeLatest","_marked2","createMutation","login_sagas_templateObject2","_yield$call2","createUser","_context3","_marked3","_context4","_marked4","changePasswordMutation","login_sagas_templateObject3","_yield$call3","changePassword","_context5","_marked5","_context6","_marked6","initialAdsState","adsReducer","getSkip","findAdsRequest","findAdsRequestSaga","findUserAdsRequest","findUserAdsRequestSaga","deleteAdRequest","deleteAdRequestSaga","adFind","ads_sagas_templateObject","adCount","ads_sagas_templateObject2","allAdFind","ads_sagas_templateObject3","findAllAdsDataRequest","allAdsData","sort","findAdsCountRequest","_callee2","_context8","$or","String","findAdsDataRequest","_callee3","_context9","AdCount","arrPromise","select","t1","Promise","t2","t3","t4","all","t5","ads_sagas_marked","ads_sagas_marked2","userAds","ads_sagas_templateObject4","findUserAllAdsCountRequest","_callee4","_context10","___owner","findUserAllAdsDataRequest","_callee5","myAllAdsData","_context11","findUserAdsCountRequest","_callee6","_context12","findUserAdsDataRequest","_callee7","_context13","_arrPromise","t6","t7","t8","t9","ads_sagas_marked3","ads_sagas_marked4","_templateObject5","deleteUserAdRequest","_callee8","_context14","AdDelete","ads_sagas_marked5","ads_sagas_marked6","initialMessagesState","messagesReducer","getMessageData","getLastMessagesData","sendMessageRequest","sendMessageRequestSaga","sendMessageYourself","sendMessageYourselfSaga","getMessageRequest","getMessageRequestSaga","getOneUserMessageRequest","getOneUserMessageRequestSaga","addNewMessage","messages_sagas_templateObject","messageRequest","MessageUpsert","delay","messages_sagas_marked","messages_sagas_marked2","messages_sagas_marked3","messages_sagas_marked4","messagesFind","messages_sagas_templateObject2","messageFindRequest","arrayMessages","_args10","to._id","$eq","Number","MessageFind","MessageCount","flat","filterArrayMessages","arr","array","tempArray","messageFind","lastMessages","_messageFind","arrLastMessages","_lastMessages","reverse","messages_sagas_marked5","task","take","cancel","isCancelled","messages_sagas_marked6","oneUserMessagefindRequest","_args11","lastMessageFind","_marked7","_marked8","initialImagesState","imagesReducer","getArrImages","getToken","getArrayImages","getArrImagesSaga","imageDataRequest","file","imageJson","imageData","images_saga_marked","images_saga_marked2","combineReducers","rootSaga","root_saga_marked","sagaMiddleware","createSagaMiddleware","store","createStore","rootReducer","applyMiddleware","run","ReactDOM","StrictMode","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.82828ad3.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAPFBMVEX///+AgIB9fX2Li4t5eXn8/PyYmJfp6enw8PD5+fmFhYXR0dHc3NypqanBwcCcnJzLy8uRkZGioqKzs7K2WSmmAAAFLUlEQVR4nO2d25qqMAxGpRSRM8j7v+suIuPGUWyaQBMn627myv9LmlNLezopiqIoiqIoiqIoiqIoiqIoiqL8QYo7sX8HPUXdj9fB2AdpN/b1lygt6nFwkowxyX+4P90/h6YSr7JuSrvWttZpk67KYv9IBH1q36r7UWmTVqohq+SzvhvWtBLteOmsl7xZY1rH/r1g+ver77WvjrF/MZARYMC7Gc+iPLUBC3RmHAQFnBCBoiS2QQKdxHPsX+5JFSjQrUUZ4eYSqm+SKCJpXEFpYo1JBQTUOthHb0ZsY//+z6QIE05WZB9Pw8PM3Yjsg82AM6GTyHwl5kgTOoV9bA3bjFgTusomtoZNMmScuUm8xFaxBd5JubtpaEW6smEXW8UWHd5Jk6TknBIJ9Dk3zWPLeM+FwEl5L0RsQTNjGJc1FIHGKbzG1vGehiLQsM75ZxKFieFbmpYkAhPLN12QLEPO6SKjUsh2WlOoQvEKKTqLm8IqtpJ3kClkW7Z9vw2/fx2qQvkKv7+mOdEU3onlO21LiRTy7S2IuqeEr8Lv74BbGoWMB6Y9zZymia3jPbj93x+FjPeBiealbMtS1+STrEPGCZ9gB/gG30EUTbowA990SLS7xnjkTRNMOYdSF0wJvJRzKHXBlCDUGM6hFHeo7U4ZW8M2+LqNd6D5CyeGMqxA3hXNBPo0ho2t4BPYhci5dZrBthe8s+EN5D4w4znbAu50ooQPEr7/nHeGclP2uWIC0yNyHiQ+wLgp785pIUPM9kU4KSaaynBSTPXNver+IbgNZnzca01obcq/Jl0IHQwz3t1+JizWSKjYFsJGbgLaigdBA6mS86z7mZC6RkLR/R8BwwwT+zfDgGd9YSYMOZYhaRVOQI0opmB7AGsTRXym/gQsJ4rKhQuQ3VLOR2g2AHwxK2CG+Ar/tC8uUyz4XjQkpbX/jfeX3TKmM6/IvRRy3xPdxOuwoqS+8Bde8wy5y/Dk2+yz/jz9A35NFPPzJVt4jr9Flmwzng0G58/TP+BZmkpsLO74ZnxBg9I13lcsSM2Ihae+RGqsySCjGokJowbtQJlE2pwm7zzvEH446iAp3FRnqL7JjHYQshrztgzQN2ssW/bjjLwdAuXNWNNxvqb90g4GpW82JNdr2i9tatHyFpGWnSXz9kwlbxFprnxE5hTO+UpkyUJk0Q+01luLNE3cLFlU3X7yFpHJGK2iqxvfxw+wIoc+QposWo+3K+g0JteDvbW+7u2dv0WWxz30kVW4uiUUa45ZkYe65xPG7u+sWXtMdHmv8byrxqK1RBe0oDTu56tVGV3fhPPVfTTWZxb6JowZ6eNq1kRdf8/Qz3WqhJO+CXsmrXPgT//sjzF0ZswGhgIdlmp7/FJy89AFk5IEnILgrvy9MCXFYqS5r2QnKKwY9jrVYeC3rWiuftoR7LMtmMebDgK5M0fy2MHeYJYizUX5O4M6NRb7x/uBOAZA8xLA7oQfGyuIbpHfneBgwz5TLIQakeJpo4MINKKIQDoTeNaf4M6nwwg67E91s/MhBF1VICbO3Ai5IYzqUuBjCLiNQZSTBn2UIiiSTgT0ifiXDI8Ffhye9fDiBeDyW0DruwacL2iudT4QcJcopHF6AD4OT3OB/JFAr36Rle8ngKFGTPP7APi9u7CKZgIYTKkeNjoQYDAVVrNNAEcZslqnGVgDRfMWx7HAbq+VVndPwBKivIQPVSgv4UPbfFXIEVW4JjXygCm8pvIoBX6lqSiKoiiKoiiKoiiKoiiKoijKn+IfVxtVXIL8SzUAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/exchange1.9dc251b4.png\";","import { GraphQLClient } from \"graphql-request\";\r\n\r\nexport const NO_CORS = \"https://cors-anywhere.herokuapp.com/\";\r\n\r\nconst ENDPOINT = \r\n  `${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/graphql`;\r\n\r\nconst client = new GraphQLClient(ENDPOINT);\r\n\r\nconst token = localStorage.getItem(\"token\");\r\n\r\nif (token !== null) {\r\n  console.log(\"token\", token);\r\n  client.setHeader(\"Authorization\", `Bearer ${localStorage.getItem(\"token\")}`);\r\n}\r\n\r\nexport default client;\r\n\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport API from \"../../API\"\r\n\r\n\r\nconst ProtectedRoute = ({ children, dispatch, redirectTo, isAuth, token, ...rest }) => {\r\n\r\n  if (isAuth && localStorage.getItem(\"token\") !== token ) {\r\n    localStorage.setItem(\"token\", token)\r\n  }\r\n\r\n  try {\r\n    const decodedHeader = jwt_decode(localStorage.getItem(\"token\"), { header: true });\r\n    console.log(\"decodedHeader\", decodedHeader);\r\n  } catch (e) {\r\n    localStorage.removeItem(\"token\");\r\n    API.setHeader(\"Authorization\", null);\r\n    dispatch({ type: \"user/logout\" });\r\n    return <Redirect to=\"/login\" />\r\n  }\r\n\r\n  console.log(\"isAuth\", isAuth);\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        isAuth ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: redirectTo,\r\n              state: { from: location }\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n};\r\n\r\nProtectedRoute.defaultProps = {\r\n  redirectTo: \"/login\"\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isLoggedIn,\r\n  token: state.auth.token,\r\n});\r\n\r\nexport default connect(mapStateToProps)(ProtectedRoute);\r\n\r\n","import React from \"react\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"spinner-border mt-3\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\nimport Spinner from \"./spinner\"\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n\r\nconst StatusResolver = ({ status, noData, redirectTo, content, children }) => {\r\n  if (status === \"searching\") {\r\n    return <Spinner />;\r\n  }\r\n  if (noData) {\r\n    return <span className=\"text-info\">{content}</span>;\r\n  }\r\n  if (status === \"rejected\") {\r\n    return <span className=\"text-danger\">Something went wrong</span>;\r\n  }\r\n  if (status === \"idle\") {\r\n    return null;\r\n  }\r\n  if (status === \"resolved\") {\r\n    return children;\r\n  }\r\n  if (status === \"deleted\") {\r\n    return <Redirect to={{ pathname: redirectTo }}/>\r\n  }\r\n};\r\n\r\nStatusResolver.defaultProps = {\r\n  noData: false,\r\n  content: \"No Data\",\r\n};\r\n\r\nexport default StatusResolver","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport avatar from \"../../shared/images/avatar.png\"\r\nimport { Link } from \"react-router-dom\";\r\nimport StatusResolver from \"./../../shared/components/statusResolver\"\r\nimport { connect } from \"react-redux\";\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst userData = gql`\r\n  query userFind($query: String) {\r\n    UserFind(query: $query) {\r\n      _id\r\n      createdAt\r\n      login\r\n      nick\r\n      avatar {\r\n        _id\r\n        url\r\n      }\r\n      incomings {\r\n        _id\r\n        owner {\r\n          _id\r\n        }\r\n      }\r\n      phones\r\n      addresses \r\n    }\r\n  }\r\n`;\r\n\r\nconst deleteAccountMutation = gql`\r\n  mutation deleteAccount($id: String) {\r\n    UserDelete(user: {\r\n      _id: $id\r\n     }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst HomeScreen = ({ dispatch, token }) => {\r\n  const { sub } = jwt_decode(token);\r\n  const { id } = sub\r\n  const [result, setResult] = React.useState(null);\r\n  const [status, setStatus] = React.useState(\"idle\");\r\n\r\n  const searchUserData = () => {\r\n    try {\r\n      setStatus(\"searching\");\r\n      API.request(userData, {\r\n        query: JSON.stringify([\r\n          {\r\n            _id: id\r\n          }\r\n        ])\r\n      }).then((res) => {\r\n        console.log(\"res\", res)\r\n        setResult(res.UserFind[0]);\r\n        setStatus(\"resolved\");\r\n      });\r\n    } catch (e) {\r\n        setStatus(\"rejected\");\r\n    }  \r\n  };\r\n\r\n  const deleteAccount = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setStatus(\"searching\");\r\n      const res = await API.request(deleteAccountMutation, { _id: id });\r\n      console.log(\"resDel\", res);\r\n      localStorage.removeItem(\"token\");\r\n      API.setHeader(\"Authorization\", null);\r\n      dispatch({ type: \"user/logout\" });\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }     \r\n   }\r\n\r\n  React.useEffect(() => {\r\n    searchUserData()\r\n  }, [])\r\n\r\n  console.log(result, \"result\", result !== null && result.length !== 0);\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <StatusResolver\r\n        noData={result !== null && result.length === 0}\r\n        status={status}\r\n      >\r\n        {result === null ? null : \r\n          <div className=\"border rounded my-5 mx-auto w-75 p-3 d-flex bg-light\">\r\n            <div className=\"mr-3 align-self-center\" style={{width:\"400px\", height:\"300px\"}}>\r\n              {result.avatar === null ? \r\n                <img src={avatar}\r\n                  className=\"rounded w-100 h-100\"\r\n                  alt=\"picture\" \r\n                /> \r\n                : \r\n                <img src={`${NO_CORS}/http://marketplace.asmer.fs.a-level.com.ua/${result.avatar.url}`}\r\n                  className=\"rounded w-100 h-100\"\r\n                  alt=\"picture\" \r\n                  style={{objectFit: \"fill\"}}\r\n                />\r\n              }\r\n            </div>\r\n            <div className=\"w-100 d-flex flex-column border rounded bg-white\" style={{fontSize: \"2rem\"}}>\r\n              <div className=\"d-flex\">\r\n                <div className=\"mt-1 ml-3\">\r\n                  Login:\r\n                </div>\r\n                <div className=\"mt-1 mx-2 font-italic\">\r\n                  {result.login}\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex\">\r\n                <div className=\"ml-3\">\r\n                  Nick:\r\n                </div>\r\n                <div className=\"mx-2 font-italic\">\r\n                  {result.nick}\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex\" style={{fontSize: \"1.5rem\"}}>\r\n                <div className=\"ml-3\">\r\n                  Phones:\r\n                </div>\r\n                <div className=\"font-italic text-justify text-break mr-2\">\r\n                  {result.phones === null ? null :\r\n                    (result.phones.length === 0 ? null :\r\n                      result.phones.map((phone, index) => (\r\n                        index === 0 ? <span key={index} className=\"ml-2\">{phone}</span>\r\n                        : <span key={index} className=\"ml-1\">, {phone}</span>\r\n                      ))\r\n                    )\r\n                  }\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex\" style={{fontSize: \"1.5rem\"}}>\r\n                <div className=\"ml-3\">\r\n                  Addresses:\r\n                </div>\r\n                <div className=\"font-italic text-justify text-break mr-2\">\r\n                  <ul>\r\n                    {result.addresses === null ? null :\r\n                      (result.addresses.length === 0 ? null :\r\n                        result.addresses.map((address, index) => (\r\n                          index === result.addresses.length-1 ? <li key={index} className=\"ml-2 text-break\">{address}</li>\r\n                          : <li key={index} className=\"ml-2 text-break\">{address};</li>\r\n                        ))\r\n                      )\r\n                    }\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex\" style={{fontSize: \"1rem\"}}>\r\n                <div className=\"ml-3\">\r\n                  Account created:\r\n                </div>\r\n                <div className=\"ml-2 font-italic\">\r\n                  {new Date(result.createdAt/1).toLocaleDateString()}\r\n                </div>\r\n              </div>\r\n              <div className=\"d-flex justify-content-end flex-grow-1 m-2 align-items-end\">\r\n                  <button type=\"button\"\r\n                    className=\"btn btn-outline-danger btn-sm mr-3\"\r\n                    onClick = {deleteAccount}\r\n                  >\r\n                  Delete Account\r\n                  </button>\r\n                <Link to={`/profile/edit/${id}`}\r\n                  className=\"btn btn-outline-secondary btn-sm\"\r\n                  role=\"button\">Add/change profile's data\r\n                </Link>\r\n              </div>    \r\n            </div>  \r\n          </div>\r\n        }\r\n      </StatusResolver>\r\n    </div> \r\n\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  token: state.auth.token,\r\n});\r\n\r\nexport default connect(mapStateToProps)(HomeScreen);\r\n","import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../../shared/components/spinner\";\r\n\r\nconst CreateUserForm = ({ dispatch }) => {\r\n  const [values, setValues] = React.useState({});\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"registration/request\", payload: values });\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const target = e.target;\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: target.value\r\n    }));\r\n  };\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">Login</label>\r\n        <div className=\"col-sm-10\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Login\"\r\n            name=\"login\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">Password</label>\r\n        <div className=\"col-sm-10\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <button className=\"btn btn-primary\">Create</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginForm = ({ dispatch }) => {\r\n  const [values, setValues] = React.useState({});\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch({ type: \"login/request\", payload: values });\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const target = e.target;\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: target.value\r\n    }));\r\n    console.log(\"values\", values)\r\n  };\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">Login</label>\r\n        <div className=\"col-sm-10\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Login\"\r\n            name=\"login\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">Password</label>\r\n        <div className=\"col-sm-10\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <button type=\"submit\" className=\"btn btn-primary\">\r\n        Enter\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ChangeUserPasswordForm = ({ dispatch }) => {\r\n  const [values, setValues] = React.useState({});\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    console.log(values)\r\n    dispatch({ type: \"changePassword/request\", payload: values });\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const target = e.target;\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: target.value\r\n    }));\r\n  };\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">Login</label>\r\n        <div className=\"col-sm-10\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Login\"\r\n            name=\"login\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">Password</label>\r\n        <div className=\"col-sm-10\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"Password\"\r\n            name=\"password\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"form-group row\">\r\n        <label className=\"col-sm-2 col-form-label\">New password</label>\r\n        <div className=\"col-sm-10 mt-2\">\r\n          <input\r\n            type=\"password\"\r\n            className=\"form-control\"\r\n            placeholder=\"New password\"\r\n            name=\"newPassword\"\r\n            onChange={onChange}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <button className=\"btn btn-primary\">Change</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst Login = ({ dispatch, authStatus, isNewUser }) => {\r\n\r\n  if (authStatus === \"resolved\") {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <h1 className=\"m-3\">\r\n        {isNewUser === \"auth\" ? \"Authorization\" : null}\r\n        {isNewUser === \"reg\" ? \"Registration\" : null}\r\n        {isNewUser === \"chng\" ? \"Change password\" : null}\r\n      </h1>\r\n      <div className=\"col-sm-12 col-md-5 mx-auto\">\r\n        {isNewUser === \"auth\" ? <LoginForm dispatch={dispatch} /> : null}\r\n        {isNewUser === \"reg\" ? <CreateUserForm dispatch={dispatch} /> : null}\r\n        {isNewUser === \"chng\" ? <ChangeUserPasswordForm dispatch={dispatch} /> : null}\r\n      </div>\r\n      <div className=\"my-3\">\r\n        {authStatus === \"pending\" ? <Spinner /> : null}\r\n      </div>\r\n      <div className=\"my-5\">\r\n        {authStatus === \"rejected\" ? (\r\n          <span className=\"alert alert-danger mb-0\">Something went wrong</span>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"my-5\">\r\n        {authStatus === \"notRegistered\" ? (\r\n          <span className=\"alert alert-warning mb-0\">\r\n            You entered an incorrect password or login or you are not registered, please enter the correct data or register\r\n          </span>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"my-5\">\r\n        {authStatus === \"isRegistered\" ? (\r\n          <span className=\"alert alert-info mb-0\">\r\n            The user with the specified data is registered\r\n          </span>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"my-5\">\r\n        {authStatus === \"registered\" ? (\r\n          <span className=\"alert alert-primary mb-0\">You are registered, please log in</span>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"my-5\">\r\n        {authStatus === \"notChanged\" ? (\r\n          <span className=\"alert alert-warning mb-0\">\r\n            You entered an incorrect data \r\n          </span>\r\n        ) : null}\r\n      </div>\r\n      <div className=\"my-5\">\r\n        {authStatus === \"changed\" ? (\r\n          <span className=\"alert alert-primary mb-0\">\r\n            Your password has been successfully changed\r\n          </span>\r\n        ) : null}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoggedIn: state.auth.isLoggedIn,\r\n  isNewUser: state.auth.isNewUser,\r\n  authStatus: state.auth.status\r\n});\r\nexport default connect(mapStateToProps)(Login);\r\n","import React from \"react\";\r\nimport camera from \"../../shared/images/camera.png\"\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst AdItem = ({_id, images, title, createdAt, price, owner, children}) => {\r\n  return (\r\n    <li className=\"border rounded my-3 mx-auto w-75 p-3 d-flex\">\r\n      <div style={{width:\"170px\", height:\"120px\"}}>\r\n        {images === null || images.length === 0 ? \r\n          <img src={camera}\r\n            className=\"img-fluid rounded w-100 h-100\"\r\n            alt=\"picture\" \r\n            style={{objectFit: \"cover\"}}\r\n          /> \r\n        : (\r\n          images[0].url === null ? \r\n          <img src={camera}\r\n            className=\"img-fluid rounded w-100 h-100\"\r\n            alt=\"picture\" \r\n            style={{objectFit: \"cover\"}}\r\n          /> \r\n          :\r\n          <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${images[0].url}`}\r\n            className=\"img-fluid rounded w-100 h-100\"\r\n            alt=\"picture\" \r\n            style={{objectFit: \"cover\"}}\r\n          />\r\n          )\r\n        }\r\n      </div>\r\n      <div className=\"d-flex flex-column flex-grow-1 mx-3\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <div className=\"font-weight-bolder\" style={{fontSize:\"22px\"}}>{title}</div>\r\n          <div style={{fontSize:\"20px\"}}>{`${price} .`}</div>\r\n        </div>\r\n        <div className=\"align-self-start\" style={{fontSize:\"14px\"}}>Owner: {owner.nick || owner.login}</div>\r\n        <div className=\"align-self-start\" style={{fontSize:\"12px\"}}>Posted: {new Date(createdAt/1).toLocaleDateString()}</div>\r\n        <div className=\"d-flex justify-content-end flex-grow-1 align-items-end\">\r\n          {children}\r\n        </div>\r\n      </div>  \r\n    </li>\r\n  )  \r\n}\r\n\r\nexport default AdItem","import React from \"react\";\r\nimport StatusResolver from \"./../../shared/components/statusResolver\"\r\nimport AdItem from \"../../shared/components/ad-item\"\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst AdFind = ({ dispatch, adsData, adsCount, status, skip }) => {\r\n  const [value, setValue] = React.useState(null);\r\n  const [limit, setLimit] = React.useState(10);\r\n\r\n  const onChangeInput = (e) => {\r\n    setValue(e.target.value)\r\n  };\r\n\r\n  const onChangeSelect = (e) => {\r\n    setLimit(+e.target.value);\r\n    dispatch({ type: \"skip/reset\" })\r\n  };\r\n\r\n  const searchAds = () => {\r\n    dispatch({ type: \"adsFind/request\", payload: {\r\n      value: value,\r\n      skip: skip,\r\n      limit: limit\r\n    }});\r\n  };\r\n\r\n  const onClickSearchAds = () => {\r\n    dispatch({ type: \"skip/reset\" })\r\n    searchAds()\r\n  }\r\n\r\n  const onClickNextButton = () => {\r\n    adsCount <= limit ? dispatch({ type: \"skip/reset\" }) : dispatch({ type: \"skip/setNext\", payload: limit })\r\n    searchAds()\r\n  }\r\n  \r\n  const onClickPrevButton = () => {\r\n    skip < limit ? dispatch({ type: \"skip/reset\" }) : dispatch({ type: \"skip/setPrev\", payload: limit })\r\n    searchAds()\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    searchAds()\r\n    return () => dispatch ({ type: \"findRequest/reset\" })\r\n  }, [limit])\r\n\r\n  console.log(adsData, \"adsData\", adsData !== null && adsData.length !== 0);\r\n  console.log(\"count\", adsCount)\r\n  console.log(\"skip\", skip)\r\n  console.log(\"limit\", limit)\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <div className=\"row input-group m-3 mx-auto w-50\">\r\n        <label className=\"col-sm-6 col-form-label\">Select the number of ads on the page</label>\r\n        <div className=\"col-sm-6\">\r\n          <select\r\n            className=\"form-control\"\r\n            onChange={onChangeSelect}\r\n            name=\"select\">\r\n              <option key={10} value={10}>10</option>\r\n              <option key={20} value={20}>20</option>\r\n              <option key={30} value={30}>30</option>\r\n              <option key={50} value={50}>50</option>\r\n              <option key={100} value={100}>100</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"row input-group m-3 justify-content-md-center\">\r\n        <input type=\"search\" className=\"form-control col-5\" onChange={onChangeInput} placeholder=\"Enter ad\"/>\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-secondary\" type=\"submit\" onClick={onClickSearchAds} disabled={status === \"searching\"}>Search Ad</button>\r\n          </div>\r\n      </div>\r\n      <div className=\"col-sm-12 my-3\">\r\n        <StatusResolver\r\n          noData={adsData !== null && adsData.length === 0}\r\n          status={status}\r\n        >\r\n          <ul>\r\n            {adsData === null ? null : \r\n              adsData.map((ad) => (\r\n                <AdItem key={ad._id} {...ad}>\r\n                  <Link to={`/ads/otherUser/${ad.owner._id}`}\r\n                    //style={{width:\"70px\"}}\r\n                    className=\"btn btn-secondary btn-sm mr-2\"\r\n                    role=\"button\">View other ads this user\r\n                  </Link>\r\n                  <Link to={`/ad/otherUser/${ad._id}`}\r\n                    style={{width:\"70px\"}}\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                    role=\"button\">View\r\n                  </Link>\r\n                </AdItem>  \r\n              ))\r\n            }\r\n          </ul>\r\n          <div className=\" d-flex justify-content-between w-75 mx-auto\">\r\n            <button \r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm m-3\"\r\n              style={{width:\"70px\"}}\r\n              onClick = {onClickPrevButton}\r\n              disabled={skip === 0}\r\n            >\r\n              Prev\r\n            </button>\r\n            <button \r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm m-3\"\r\n              style={{width:\"70px\"}}\r\n              onClick = {onClickNextButton}\r\n              disabled={skip + limit >= adsCount}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </StatusResolver>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  adsData: state.ads.adsData,\r\n  adsCount: state.ads.adsCount,\r\n  status: state.ads.status,\r\n  skip: state.ads.skip,\r\n});\r\n\r\nexport default connect(mapStateToProps)(AdFind);\r\n","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\nimport ReactTagInput from \"@pathofdev/react-tag-input\"\r\nimport \"@pathofdev/react-tag-input/build/index.css\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst postAd = gql`\r\n  mutation post($title: String!, $description: String, $images: [ImageInput], $tags: [String], $address: String, $price: Float!) {\r\n    AdUpsert(ad: {\r\n      title: $title,\r\n      description: $description,\r\n      images: $images,\r\n      tags: $tags\r\n      address: $address,\r\n      price: $price\r\n    }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst PostAdUser = ({ dispatch, arrImages, status }) => {\r\n  const [values, setValues] = React.useState({\r\n    \"tags\": [\"sport\", \"entertainment\", \"health\", \"antiques\", \"technology\"],\r\n    \"images\": []\r\n  });\r\n  const [isDelImage, setIsDelImage] = React.useState(false);\r\n\r\n  const onChange = (e) => {\r\n    const target = e.target;\r\n    target.name === \"price\" ? \r\n    (setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: +target.value\r\n    }))) : \r\n    (setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: target.value\r\n    })));\r\n    console.log(\"values\", values)\r\n  };\r\n\r\n  const onChangeTagsInput = (newTags) => {\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      \"tags\": [...newTags]\r\n    }));\r\n    console.log(\"values\", values)\r\n  }\r\n\r\n  const onClickDelete = (i) => {\r\n    arrImages.splice(i, 1);\r\n    dispatch({ type: \"arrImages/formed\", payload: arrImages });\r\n    setIsDelImage(!isDelImage)\r\n  }\r\n\r\n  const onChangeInputImage = (e) => {\r\n    dispatch({ type: \"getArrImages/request\", payload: e.target.files });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (arrImages.length !== 0) {\r\n      arrImages.forEach((image) => {\r\n        const {_id: id} = image\r\n        console.log(\"imageId\", {_id:id})\r\n        values.images.push({_id:id})\r\n      })\r\n      console.log(\"images\", values.images)\r\n    }\r\n    try {\r\n      dispatch({ type: \"request/pending\" });\r\n      API.request(postAd, values)\r\n       .then((res) => {\r\n          console.log(\"res\", res)\r\n          dispatch({ type: \"request/resolved\" });\r\n        });\r\n    } catch (e) {\r\n      dispatch({ type: \"request/rejected\" });\r\n    }  \r\n  };\r\n\r\n  React.useEffect(() => {\r\n    return () => dispatch({ type: \"request/reset\" })\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <form onSubmit={onSubmit} className=\"col-8 mx-auto mt-3\">\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Title *</label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Title\"\r\n              name=\"title\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Description</label>\r\n          <div className=\"col-sm-10\">\r\n            <textarea\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"\r\n              name=\"description\"\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">ImageInput</label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"file\"\r\n              className=\"form-control-file\"\r\n              placeholder=\"ImageInput\"\r\n              name=\"imageInput\"\r\n              onChange={onChangeInputImage}\r\n              disabled={status === \"searching\"}\r\n              multiple\r\n            />\r\n          </div>\r\n          <div className=\"d-flex justify-content-center flex-wrap ml-3\">\r\n            {arrImages === null || arrImages.length === 0 ? null : (\r\n              arrImages.map((image, index) => (\r\n                image.url === null ? null :\r\n                  <div key={index} className=\"mt-3 col-3 w-100 mx-auto px-3\">\r\n                    <div className=\"w-100\">\r\n                      <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${image.url}`}\r\n                        className=\"img-fluid rounded w-100 h-100\"\r\n                        alt=\"picture\" \r\n                        />\r\n                    </div>\r\n                    <div className=\"d-flex justify-content-center\">\r\n                      <button type=\"button\"\r\n                        className=\"btn btn-outline-danger btn-sm my-3\"\r\n                        disabled={status === \"searching\"}\r\n                        onClick = {() => onClickDelete(index)}\r\n                        >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  </div>    \r\n                )\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Tags</label>\r\n          <div className=\"col-sm-10\">\r\n            <ReactTagInput \r\n              tags={values.tags}\r\n              onChange={(newTags) => onChangeTagsInput(newTags)}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Address</label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Address\"\r\n              name=\"address\"\r\n              onChange={onChange}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group row\">\r\n          <label className=\"col-sm-2 col-form-label\">Price *</label>\r\n          <div className=\"col-sm-10\">\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Price\"\r\n              name=\"price\"\r\n              onChange={onChange}\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n        <button className=\"btn btn-secondary\" disabled={status === \"searching\"}>Post ad</button>\r\n      </form>\r\n      <StatusResolver\r\n        status={status}\r\n        >\r\n          <Redirect to=\"/ad/curUser\" />\r\n      </StatusResolver>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  arrImages: state.images.arrImages,\r\n  status: state.images.status\r\n});\r\n\r\nexport default connect(mapStateToProps)(PostAdUser)","import React from \"react\";\r\nimport AdItem from \"../../shared/components/ad-item\"\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StatusResolver from \"./../../shared/components/statusResolver\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst MyAdsScreen = ({ dispatch, adsData, adsCount, status, skip, token }) => {\r\n  const { sub } = jwt_decode(token);\r\n  const { id } = sub\r\n  const [isDelAd, setIsDelAD] = React.useState(false)\r\n  const [limit, setLimit] = React.useState(10);\r\n  const [value, setValue] = React.useState(null);\r\n\r\n  const onChangeInput = (e) => {\r\n    setValue(e.target.value)\r\n  };\r\n\r\n  const onClickSearchAds = () => {\r\n    dispatch({ type: \"skip/reset\" })\r\n    searchUserAds()\r\n  }\r\n\r\n  const onClickDelete = (adId) => {\r\n    console.log(\"adId\", adId)\r\n    const adIdDel = {\"_id\": adId}\r\n    console.log(\"adIdDel\", adIdDel)\r\n    dispatch({ type: \"adUserDelete/request\", payload: adIdDel })\r\n    setIsDelAD(!isDelAd)\r\n  }\r\n\r\n  const searchUserAds = () => {\r\n    dispatch({ type: \"adsUserFind/request\", payload: {\r\n      value: value,\r\n      id: id,\r\n      skip: skip,\r\n      limit: limit\r\n    }});\r\n  };\r\n\r\n  const onChangeSelect = (e) => {\r\n    setLimit(+e.target.value);\r\n  };\r\n\r\n  const onClickNextButton = () => {\r\n    adsCount <= limit ? dispatch({ type: \"skip/reset\" }) : dispatch({ type: \"skip/setNext\", payload: limit })\r\n    searchUserAds()\r\n  }\r\n  \r\n  const onClickPrevButton = () => {\r\n    skip < limit ? dispatch({ type: \"skip/reset\" }) : dispatch({ type: \"skip/setPrev\", payload: limit })\r\n    searchUserAds()\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    searchUserAds()\r\n    return () => dispatch({ type: \"findRequest/reset\" })\r\n  }, [isDelAd, limit])\r\n\r\n  console.log(adsData, \"result\", adsData !== null && adsData.length !== 0);\r\n  console.log(\"skip\", skip)\r\n  console.log(\"limit\", limit)\r\n  console.log(\"value\", value)\r\n\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <div className=\"row input-group m-3 mx-auto w-50\">\r\n        <label className=\"col-sm-6 col-form-label\">Select the number of ads on the page</label>\r\n        <div className=\"col-sm-6\">\r\n          <select\r\n            className=\"form-control\"\r\n            onChange={onChangeSelect}\r\n            name=\"select\">\r\n              <option key={10} value={10}>10</option>\r\n              <option key={20} value={20}>20</option>\r\n              <option key={30} value={30}>30</option>\r\n              <option key={50} value={50}>50</option>\r\n              <option key={100} value={100}>100</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"row input-group m-3 justify-content-md-center\">\r\n        <input type=\"search\" className=\"form-control col-5\" onChange={onChangeInput} placeholder=\"Enter ad\"/>\r\n          <div className=\"input-group-append\">\r\n            <button className=\"btn btn-secondary\" type=\"submit\" onClick={onClickSearchAds} disabled={status === \"searching\"}>Search Ad</button>\r\n          </div>\r\n      </div>\r\n      <div className=\"col-sm-12 my-3\">\r\n        <StatusResolver\r\n          noData={adsData !== null && adsData.length === 0}\r\n          status={status}\r\n          content=\"You have no ads loaded\"\r\n          redirectTo=\"/ad/curUser\"\r\n        >\r\n          <ul>\r\n            {adsData === null ? null : \r\n              adsData.map((ad) => (\r\n                <AdItem key={ad._id} {...ad}>\r\n                  <button type=\"button\"\r\n                    className=\"btn btn-outline-danger btn-sm mr-3\"\r\n                    style={{width:\"70px\"}}\r\n                    onClick = {() => onClickDelete(ad._id)}\r\n                  >\r\n                  Delete\r\n                  </button>\r\n                  <Link to={`/ad/curUser/edit/${ad._id}`}\r\n                    style={{width:\"70px\"}}\r\n                    className=\"btn btn-secondary btn-sm mr-3\"\r\n                    role=\"button\">Edit\r\n                  </Link>\r\n                  <Link to={`/ad/curUser/${ad._id}`}\r\n                    style={{width:\"70px\"}}\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                    role=\"button\">View\r\n                  </Link>\r\n                </AdItem>  \r\n              ))\r\n            }\r\n          </ul>\r\n          <div className=\" d-flex justify-content-between w-75 mx-auto\">\r\n            <button \r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm m-3\"\r\n              style={{width:\"70px\"}}\r\n              onClick = {onClickPrevButton}\r\n              disabled={skip === 0}\r\n            >\r\n              Prev\r\n            </button>\r\n            <button \r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm m-3\"\r\n              style={{width:\"70px\"}}\r\n              onClick = {onClickNextButton}\r\n              disabled={skip + limit >= adsCount}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </StatusResolver>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  adsData: state.ads.adsData,\r\n  adsCount: state.ads.adsCount,\r\n  status: state.ads.status,\r\n  skip: state.ads.skip,\r\n  token: state.auth.token,\r\n});\r\n\r\nexport default connect(mapStateToProps)(MyAdsScreen);\r\n","import React from \"react\";\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst ViewImages = ({ images }) => {\r\n  const [count, setCount] = React.useState(0);\r\n  const onClickNext = () => {\r\n    setCount((prev) => prev + 1)\r\n  }\r\n  const onClickPrev = () => {\r\n    setCount((prev) => prev - 1)\r\n  }\r\n  return (\r\n    <div className=\"border rounded my-3 w-75 mx-auto p-3\">\r\n      <div className=\"w-100\" style={{height:\"750px\"}}>\r\n        <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${images[count].url}`}\r\n          className=\"img-fluid rounded w-100 h-100\"\r\n          alt=\"picture\" \r\n        />\r\n      </div>\r\n      <div className=\"d-flex justify-content-between\">\r\n        <button type=\"button\"\r\n          className=\"btn btn-outline-secondary btn-sm m-3\"\r\n          disabled={count === 0}\r\n          style={{width:\"70px\"}}\r\n          onClick = {onClickPrev}\r\n        >\r\n          Prev\r\n        </button>\r\n        <button type=\"button\"\r\n          className=\"btn btn-outline-secondary btn-sm m-3\"\r\n          disabled={count === images.length-1}\r\n          style={{width:\"70px\"}}\r\n          onClick = {onClickNext}\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ViewImages","import React from \"react\";\r\n\r\nconst AdItemOne = ({ _id, title, createdAt, price, address, description, owner, onClick, children }) => {\r\n  return (\r\n    <div className=\"border rounded my-3 mx-auto w-75 p-3\">\r\n      <div className=\"font-weight-bolder text-justify my-3\" style={{fontSize:\"26px\"}}>{title}</div>\r\n      <div className=\"text-justify my-3\" style={{fontSize:\"24px\"}}>{`${price} .`}</div>\r\n      <div className=\"my-3\">\r\n        <div className=\"text-justify my-2\" style={{fontSize:\"22px\"}}>Description</div>\r\n        <div className=\"text-justify text-break font-italic\" style={{fontSize:\"18px\"}}>{description}</div>\r\n      </div>\r\n      <div className=\"text-justify my-3\" style={{fontSize:\"18px\"}}>\r\n        <span>Owner: </span> <span className=\"font-italic\">{owner.nick || owner.login}</span>\r\n      </div>\r\n      <div className=\"d-flex my-3\" style={{fontSize: \"18px\"}}>\r\n        <div>\r\n          Addresses: \r\n        </div>\r\n        <div className=\"font-italic ml-2\">\r\n          {address || (owner.addresses === null ? null :\r\n            (owner.addresses.length === 0 ? null :\r\n              owner.addresses.map((address, index) => (\r\n                index === 0 ? <span key={index} className=\"text-justify text-wrap\">{address}</span>\r\n                : <span key={index} className=\"text-justify text-wrap\">; {address}</span>\r\n              ))\r\n            )\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex my-3\" style={{fontSize: \"18px\"}}>\r\n        <div>\r\n          Phones:\r\n        </div>\r\n        <div className=\"font-italic\">\r\n          {owner.phones === null ? null :\r\n            (owner.phones.length === 0 ? null :\r\n              owner.phones.map((phone, index) => (\r\n                index === 0 ? <span key={index} className=\"ml-2 text-wrap\">{phone}</span>\r\n                : <span key={index} className=\"text-wrap\">, {phone}</span>\r\n              ))\r\n            )\r\n          }\r\n        </div>\r\n      </div>\r\n      <div className=\"d-flex justify-content-between\">\r\n        <div className=\"align-self-start mt-3\" style={{fontSize:\"14px\"}}>Posted: {new Date(createdAt/1).toLocaleDateString()}</div>\r\n        <div className=\"d-flex justify-content-end flex-grow-1 align-items-end\">\r\n          <button type=\"button\"\r\n            className=\"btn btn-outline-secondary mr-3\"\r\n            onClick = {onClick}\r\n          >\r\n            Comments\r\n          </button>\r\n          {children}\r\n        </div>\r\n      </div>  \r\n    </div>\r\n  )  \r\n}\r\n\r\nexport default AdItemOne","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\n\r\nconst adComments = gql`\r\n  query adComments ($query: String) {\r\n    AdFindOne(query: $query) {\r\n      _id\r\n      comments {\r\n        _id\r\n        owner {\r\n          login\r\n          nick\r\n          _id\r\n        }\r\n        ad {\r\n          _id\r\n        }\r\n        text\r\n        answerTo {\r\n          _id\r\n        }\r\n        answers {\r\n          _id\r\n        }\r\n        createdAt\r\n      }    \r\n    }\r\n  }\r\n`;\r\n\r\nconst addNewComment = gql`\r\n  mutation addNewComment($text: String! $ad: AdInput!) {\r\n    CommentUpsert(comment: {\r\n      text: $text,\r\n      ad: $ad,\r\n    }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst commentFind = gql`\r\n  query CommentFind($query: String) {\r\n    CommentFindOne(query: $query) {\r\n      _id\r\n      answerTo {\r\n        _id\r\n        ad {\r\n          _id\r\n        }\r\n      }\r\n      answers {\r\n        _id\r\n        text\r\n        createdAt\r\n        owner {\r\n          login\r\n          nick\r\n          _id\r\n        }\r\n        ad {\r\n          _id\r\n        }\r\n        answerTo {\r\n          _id\r\n          ad {\r\n            _id\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst addNewAnswer = gql`\r\n  mutation addNewAnswer($text: String! $answerTo: CommentInput!) {\r\n    CommentUpsert(comment: {\r\n      text: $text,\r\n      answerTo: $answerTo,\r\n    }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst Answers = ({ id }) => {\r\n  console.log(\"answersId\", id)\r\n  const [comment, setComment] = React.useState(null)\r\n  const [status, setStatus] = React.useState(\"idle\");\r\n  const [values, setValues] = React.useState({\"answerTo\": {\"_id\": id}})\r\n  const [isClickAddAnswer, setIsClickAddAnswer] = React.useState(false)\r\n  const [answersId, setAnswersId] = React.useState(null)\r\n\r\n  const [isViewAnswers, setIsViewAnswers] = React.useState(false)\r\n\r\n  const findComment = () => {\r\n    try {\r\n      setStatus(\"searching\")\r\n      API.request(commentFind, {\r\n        query: JSON.stringify([\r\n          {\r\n            _id: id\r\n          }\r\n        ])\r\n      }).then((res) => {\r\n        console.log(\"res\", res)\r\n        setComment(res.CommentFindOne);\r\n        setAnswersId(res.CommentFindOne.answers === null ? null :\r\n          res.CommentFindOne.answers.filter((answer) => answer.answerTo._id === id).map((answer) => \r\n            answer = {[answer._id]: false})\r\n        )\r\n        setStatus(\"resolved\");\r\n      })\r\n    }\r\n    catch(e) {\r\n      setStatus(\"rejected\")\r\n    }\r\n  }\r\n\r\n  const addAnswer = () => {\r\n    setIsClickAddAnswer(true)\r\n  }\r\n\r\n  const onChangeTextAnswer = (e) => {\r\n    e.persist()\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value})\r\n    );\r\n    console.log(\"value\", values)\r\n  }\r\n\r\n  const sendAnswer = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setStatus(\"searching\");\r\n      API.request(addNewAnswer, values)\r\n        .then((res) => {\r\n          console.log(\"res\", res)\r\n          setValues({\"answerTo\": {\"_id\": id}})\r\n          findComment()\r\n          setIsClickAddAnswer(false)\r\n        });\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }  \r\n  }\r\n\r\n  const viewAnswers = (id) => {\r\n    setIsViewAnswers(!isViewAnswers)\r\n    console.log(\"answersId\", answersId)\r\n\r\n    const arrAnswersId = answersId\r\n    arrAnswersId.map((answerId) => {\r\n      if (Object.keys(answerId)[0] === id) {\r\n        answerId[id] = !answerId[id]\r\n      }\r\n    })\r\n    console.log(\"arrView\", arrAnswersId)\r\n    setAnswersId(arrAnswersId)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    findComment()\r\n  }, [])\r\n\r\n  console.log(comment, \"comment\", comment !== null);\r\n\r\n  return (\r\n    <div className=\"border rounded my-2 ml-3 p-2\">\r\n      <StatusResolver\r\n        status={status}\r\n      >\r\n        {comment === null ? null : (\r\n          comment.answers === null ? \r\n            <>\r\n              <div className=\"text-info\">No answers</div>\r\n              {isClickAddAnswer ? null :\r\n                <div className=\"d-flex justify-content-end flex-grow-1 align-items-end\">\r\n                  <button type=\"button\"\r\n                    className=\"btn btn-outline-dark mr-3\"\r\n                    onClick = {addAnswer}\r\n                  >\r\n                    Add answer\r\n                  </button>\r\n                </div>\r\n              }\r\n            </> :\r\n            <div className=\"d-flex flex-column\">\r\n              {comment.answers.filter((answer) => answer.answerTo._id === id).map((answer, index) => \r\n                <div key={index}>\r\n                  <div className=\"d-flex my-1\" style={{fontSize:\"18px\"}}>\r\n                    <div>{answer.owner.nick || answer.owner.login}:</div>\r\n                    <div className=\"font-italic text-justify mx-3 flex-grow-1\">\r\n                      {answer.text}\r\n                    </div>\r\n                    <div style={{fontSize:\"14px\"}} className=\"mt-1\">\r\n                      {new Date(answer.createdAt/1).toLocaleDateString()}\r\n                    </div>\r\n                    <div className=\"ml-2\">\r\n                      <button type=\"button\"\r\n                        className=\"btn btn-outline-secondary btn-sm\"\r\n                        style={{width:\"110px\"}}\r\n                        onClick = {() => viewAnswers(answer._id)}\r\n                      >\r\n                        View answers\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  {answersId === null || answersId.length !== comment.answers.length ?\r\n                    null :\r\n                    (answersId.filter((answerId) => Object.keys(answerId)[0] === answer._id)[0][answer._id] ?\r\n                      <div>\r\n                        <Answers id={answer._id}/>\r\n                      </div> : \r\n                      null\r\n                    )   \r\n                  }\r\n                </div>\r\n              )}\r\n              {isClickAddAnswer ? null :\r\n                <div className=\"d-flex justify-content-end mt-3 align-items-end\">\r\n                  <button type=\"button\"\r\n                    className=\"btn btn-outline-dark mr-3\"\r\n                    onClick = {addAnswer}\r\n                  >\r\n                    Add answer\r\n                  </button>\r\n                </div>\r\n              }\r\n            </div>\r\n          )\r\n        }\r\n        {isClickAddAnswer ?\r\n          <form onSubmit={sendAnswer}>\r\n            <div className=\"mt-2 form-group\">\r\n              <textarea\r\n                className=\"form-control\"\r\n                placeholder=\"Enter comment\"\r\n                name=\"text\"\r\n                onChange={onChangeTextAnswer}\r\n                required\r\n              />\r\n              <div className=\"d-flex justify-content-end mt-3\">\r\n                <button type=\"submit\"\r\n                  className=\"btn btn-outline-primary\"\r\n                >\r\n                  Send answer\r\n                </button>\r\n              </div>\r\n            </div> \r\n          </form>\r\n          : null\r\n        }\r\n      </StatusResolver>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst AdComments = ({ id }) => {\r\n  const [result, setResult] = React.useState(null);\r\n  const [status, setStatus] = React.useState(\"idle\");\r\n  const [values, setValues] = React.useState({\"ad\": {\"_id\": id}})\r\n  const [isClickAddComment, setIsClickAddComment] = React.useState(false)\r\n  const [answersId, setAnswersId] = React.useState(null)\r\n\r\n  const [isViewAnswers, setIsViewAnswers] = React.useState(false)\r\n\r\n  const findAdComments = () => {\r\n    try {\r\n      setStatus(\"searching\");\r\n      API.request(adComments, {\r\n        query: JSON.stringify([\r\n          {\r\n            _id: id\r\n          }\r\n        ])\r\n      }).then((res) => {\r\n        console.log(\"res\", res)\r\n        setResult(res.AdFindOne);\r\n        setAnswersId(res.AdFindOne.comments === null ? null :\r\n          res.AdFindOne.comments.map((comment) => \r\n            comment = {[comment._id]: false})\r\n        )\r\n        setStatus(\"resolved\");\r\n      });\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }  \r\n  };\r\n\r\n  const addComment = () => {\r\n    setIsClickAddComment(true)\r\n  }\r\n\r\n  const onChangeTextComment = (e) => {\r\n    e.persist()\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value})\r\n    );\r\n    console.log(\"value\", values)\r\n  }\r\n\r\n  const sendComment = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setStatus(\"searching\");\r\n      API.request(addNewComment, values)\r\n        .then((res) => {\r\n          console.log(\"res\", res)\r\n          setValues({\"ad\": {\"_id\": id}})\r\n          findAdComments()\r\n          setIsClickAddComment(false)\r\n        });\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }  \r\n  }\r\n\r\n  const viewAnswers = (id) => {\r\n    setIsViewAnswers(!isViewAnswers)\r\n    const arrAnswersId = answersId\r\n    arrAnswersId.map((answerId) => {\r\n      if (Object.keys(answerId)[0] === id) {\r\n        answerId[id] = !answerId[id]\r\n      }\r\n    })\r\n    console.log(\"arrView\", arrAnswersId)\r\n    setAnswersId(arrAnswersId)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    findAdComments()\r\n  }, [])\r\n\r\n  console.log(result, \"result\", result !== null);\r\n  console.log(\"answersId\", answersId)\r\n  \r\n  return (\r\n    <div className=\"border rounded my-2 mx-auto w-75 p-3\">\r\n      <StatusResolver\r\n        status={status}\r\n      >\r\n        {result === null ? null : (\r\n          result.comments === null ? \r\n            <>\r\n              <div className=\"text-info\">No comments</div>\r\n              {isClickAddComment ? null :\r\n                <div className=\"d-flex justify-content-end flex-grow-1 align-items-end\">\r\n                  <button type=\"button\"\r\n                    className=\"btn btn-outline-dark mr-3\"\r\n                    onClick = {addComment}\r\n                  >\r\n                    Add comment\r\n                  </button>\r\n                </div>\r\n              }\r\n            </> :\r\n            <div className=\"d-flex flex-column\">\r\n              {result.comments.filter((comment) => comment.answerTo === null).map((comment, index) => \r\n                <div key={index}>\r\n                  <div className=\"d-flex my-1\" style={{fontSize:\"18px\"}}>\r\n                    <div>{comment.owner.nick || comment.owner.login}:</div>\r\n                    <div className=\"font-italic text-justify mx-3 flex-grow-1\">\r\n                      {comment.text}\r\n                    </div>\r\n                    <div style={{fontSize:\"14px\"}} className=\"mt-1\">\r\n                      {new Date(comment.createdAt/1).toLocaleDateString()}\r\n                    </div>\r\n                    <div className=\"ml-2\">\r\n                      <button type=\"button\"\r\n                        className=\"btn btn-outline-secondary btn-sm\"\r\n                        style={{width:\"110px\"}}\r\n                        onClick = {() => viewAnswers(comment._id)}\r\n                      >\r\n                        View answers\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  {answersId === null || answersId.length !== result.comments.length ?\r\n                    null :\r\n                    (answersId.filter((answerId) => Object.keys(answerId)[0] === comment._id)[0][comment._id] ?\r\n                      <div>\r\n                        <Answers id={comment._id}/>\r\n                      </div> : \r\n                      null\r\n                    )   \r\n                  }\r\n                </div>\r\n              )}\r\n              {isClickAddComment ? null :\r\n                <div className=\"d-flex justify-content-end mt-3 align-items-end\">\r\n                  <button type=\"button\"\r\n                    className=\"btn btn-outline-dark mr-3\"\r\n                    onClick = {addComment}\r\n                  >\r\n                    Add comment\r\n                  </button>\r\n                </div>\r\n              }\r\n            </div>\r\n          )\r\n        }\r\n        {isClickAddComment ?\r\n          <form onSubmit={sendComment}>\r\n            <div className=\"mt-2 form-group\">\r\n              <textarea\r\n                className=\"form-control\"\r\n                placeholder=\"Enter comment\"\r\n                name=\"text\"\r\n                onChange={onChangeTextComment}\r\n                required\r\n              />\r\n              <div className=\"d-flex justify-content-end mt-3\">\r\n                <button type=\"submit\"\r\n                  className=\"btn btn-outline-primary\"\r\n                >\r\n                  Send comment\r\n                </button>\r\n              </div>\r\n            </div> \r\n          </form>\r\n          : null\r\n        }\r\n      </StatusResolver>\r\n    </div>  \r\n  )\r\n}\r\n\r\nexport default AdComments","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport ViewImages from \"../../shared/components/view-images\"\r\nimport AdItemOne from \"../../shared/components/ad-item-one\"\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\nimport camera from \"../../shared/images/camera.png\"\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport AdComments from \"../../shared/components/ad-comments\"\r\n\r\nconst myAdOne = gql`\r\n  query adFindOne($query: String) {\r\n    AdFindOne(query: $query) {\r\n      _id\r\n      owner {\r\n        _id\r\n        login\r\n        nick \r\n        phones\r\n        addresses\r\n      } \r\n      price\r\n      createdAt\r\n      title\r\n      tags\r\n      address\r\n      description\r\n      images {\r\n        url\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst deleteAdMutation = gql`\r\n  mutation deleteAD($adId: ID) {\r\n    AdDelete(ad: {\r\n      _id: $adId\r\n     }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst MyAdOneSreen = () => {\r\n  const { _id } = useParams()\r\n  const [result, setResult] = React.useState(null);\r\n  const [status, setStatus] = React.useState(\"idle\");\r\n  const [isComments, setIsComments] = React.useState(false)\r\n\r\n  const onClickDelete = async (adId) => {\r\n    console.log(\"adId\", adId)\r\n    const adIdDel = {\"_id\": adId}\r\n    console.log(\"adIdDel\", adIdDel)\r\n    try {\r\n      setStatus(\"searching\");\r\n      const res = await API.request(deleteAdMutation, adIdDel)\r\n      console.log(\"resDel\", res)\r\n      setStatus(\"deleted\");\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }\r\n  }\r\n\r\n  const searchUserAdOne = () => {\r\n    try {\r\n      setStatus(\"searching\");\r\n        API.request(myAdOne, {\r\n          query: JSON.stringify([\r\n            {\r\n              _id: _id\r\n            }\r\n          ])\r\n        }).then((res) => {\r\n          console.log(\"res\", res)\r\n          setResult(res.AdFindOne);\r\n          setStatus(\"resolved\");\r\n      });\r\n    } catch (e) {\r\n        setStatus(\"rejected\");\r\n    }  \r\n  };\r\n\r\n  const viewComments = () => {\r\n    setIsComments(!isComments)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    searchUserAdOne()\r\n  }, [])\r\n\r\n  console.log(result, \"result\", result !== null);\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <div className=\"col-sm-12 my-3\">\r\n        <StatusResolver\r\n          status={status}\r\n          redirectTo=\"/ad/curUser\"\r\n        >\r\n          {result === null ? null : \r\n            (result.images === null || result.images.length === 0 ?\r\n              <div className=\"border rounded my-3 mx-auto w-25 p-3\">\r\n                <img src={camera}\r\n                  className=\"img-fluid rounded\"\r\n                  alt=\"picture\" \r\n                />\r\n              </div> :\r\n              (result.images[0].url === null ?\r\n                <div className=\"border rounded my-3 mx-auto w-25 p-3\">\r\n                  <img src={camera}\r\n                    className=\"img-fluid rounded\"\r\n                    alt=\"picture\" \r\n                  />\r\n                </div> :\r\n                <ViewImages images={result.images.filter(image => image.url !== null)} />\r\n              ) \r\n            )\r\n          }\r\n          {result === null ? null :\r\n            <>\r\n              <AdItemOne onClick={viewComments} {...result}>\r\n                <button type=\"button\"\r\n                  className=\"btn btn-outline-danger mr-3\"\r\n                  style={{width:\"70px\"}}\r\n                  onClick = {() => onClickDelete(result._id)}\r\n                >\r\n                  Delete\r\n                </button>\r\n                <Link to={`/ad/curUser/edit/${result._id}`}\r\n                  style={{width:\"70px\"}}\r\n                  className=\"btn btn-secondary mr-3\"\r\n                  role=\"button\">Edit\r\n                </Link>\r\n              </AdItemOne>\r\n              {isComments ?\r\n                <AdComments id={_id}/>\r\n                : null\r\n              }\r\n            </>\r\n          }\r\n        </StatusResolver>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyAdOneSreen","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\nimport ReactTagInput from \"@pathofdev/react-tag-input\";\r\nimport \"@pathofdev/react-tag-input/build/index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst myAdOneFind = gql`\r\n  query adFindOne($query: String) {\r\n    AdFind(query: $query) {\r\n      _id\r\n      images {\r\n        _id\r\n        url\r\n      }\r\n      title\r\n      description\r\n      tags\r\n      address\r\n      price\r\n    }\r\n  }\r\n`;\r\n\r\nconst editAd = gql`\r\n  mutation post($_id: ID, $title: String!, $description: String, $images: [ImageInput], $tags: [String], $address: String, $price: Float!) {\r\n    AdUpsert(ad: {\r\n      _id: $_id\r\n      title: $title,\r\n      description: $description,\r\n      images: $images,\r\n      tags: $tags\r\n      address: $address,\r\n      price: $price\r\n\r\n    }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst MyAdEditSreen = ({ dispatch, arrImages, status }) => {\r\n  const { _id } = useParams()\r\n  const [values, setValues] = React.useState(null);\r\n  const [isDelImage, setIsDelImage] = React.useState(false);\r\n  const [isRequest, setIsRequest] = React.useState(true);\r\n\r\n  const searchUserAdOne = () => {\r\n    try {\r\n      dispatch({ type: \"request/pending\" });\r\n        API.request(myAdOneFind, {\r\n          query: JSON.stringify([\r\n            {\r\n              _id: _id\r\n            }\r\n          ])\r\n        }).then((res) => {\r\n          const tagsSet = new Set(res.AdFind[0].tags);\r\n          const tags = [\"sport\", \"entertainment\", \"health\", \"antiques\", \"technology\"]\r\n          tags.forEach(tag => tagsSet.add(tag))\r\n          res.AdFind[0].tags = [...tagsSet]\r\n          const arrayOldImages = (res.AdFind[0].images === null ? [] : \r\n            (res.AdFind[0].images.length === 0 ? [] : \r\n              (res.AdFind[0].images.filter(image => image.url !== null))))\r\n          dispatch({ type: \"arrImages/formed\", payload: arrayOldImages });\r\n          res.AdFind[0].images = []      \r\n          setValues(res.AdFind[0]);\r\n          dispatch({ type: \"request/finding\" });\r\n          console.log(\"arrOldImages\", arrayOldImages)\r\n      });\r\n    } catch (e) {\r\n      dispatch({ type: \"request/rejected\" });\r\n    }  \r\n  };\r\n\r\n  const onClickDelete = (i) => {\r\n    arrImages.splice(i, 1);\r\n    dispatch({ type: \"arrImages/formed\", payload: arrImages });\r\n    setIsDelImage(!isDelImage)\r\n  }\r\n\r\n  const onChange = (e) => {\r\n    const target = e.target;\r\n    target.name === \"price\" ? \r\n    (setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: +target.value\r\n    }))) : \r\n    (setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: target.value\r\n    })));\r\n    console.log(\"values\", values)\r\n  };\r\n\r\n  const onChangeTagsInput = (newTags) => {\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      \"tags\": [...newTags]\r\n    }));\r\n    console.log(\"values\", values)\r\n  }\r\n\r\n  const onChangeInputImage = (e) => {\r\n    dispatch({ type: \"getArrImages/request\", payload: e.target.files });\r\n  };\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (arrImages.length !== 0) {\r\n      arrImages.forEach((image) => {\r\n        const {_id: id} = image\r\n        console.log(\"imageId\", {_id:id})\r\n        values.images.push({_id:id})\r\n      })\r\n      console.log(\"images\", values.images)\r\n    }\r\n    try {\r\n      dispatch({ type: \"request/pending\" });\r\n      console.log(\"values\", values)\r\n      API.request(editAd, values)\r\n       .then((res) => {\r\n          console.log(\"res\", res);\r\n          dispatch({ type: \"request/resolved\" });\r\n        });\r\n    } catch (e) {\r\n      dispatch({ type: \"request/rejected\" });\r\n    }  \r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (isRequest) {\r\n      searchUserAdOne();\r\n      setIsRequest(false);\r\n    }\r\n    return () => dispatch({ type: \"request/reset\" })\r\n  }, [])\r\n\r\n  console.log(values, \"result\", values !== null && values.length !== 0);\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      {values === null ? null : \r\n        (<form onSubmit={onSubmit} className=\"col-8 mx-auto mt-3\">\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Title *</label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Title\"\r\n                name=\"title\"\r\n                onChange={onChange}\r\n                defaultValue={values.title}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Description</label>\r\n            <div className=\"col-sm-10\">\r\n              <textarea\r\n                className=\"form-control\"\r\n                placeholder=\"Description\"\r\n                name=\"description\"\r\n                onChange={onChange}\r\n                defaultValue={values.description}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row mb-1\">\r\n            <label className=\"col-sm-2 col-form-label\">ImageInput</label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                type=\"file\"\r\n                className=\"form-control-file\"\r\n                placeholder=\"ImageInput\"\r\n                name=\"imageInput\"\r\n                onChange={onChangeInputImage}\r\n                disabled={status === \"searching\"}\r\n                multiple\r\n              />\r\n            </div>\r\n            <div className=\"d-flex justify-content-center flex-wrap ml-3\">\r\n              {arrImages === null || arrImages.length === 0 ? null : (\r\n                arrImages[0].url === null ? null :\r\n                  arrImages.map((image, index) => (\r\n                    image.url === null ? null :\r\n                      <div key={index} className=\"mt-3 col-3 w-100 mx-auto px-3\">\r\n                        <div className=\"w-100\">\r\n                          <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${image.url}`}\r\n                            className=\"img-fluid rounded w-100 h-100\"\r\n                            alt=\"picture\" \r\n                            />\r\n                        </div>\r\n                        <div className=\"d-flex justify-content-center\">\r\n                          <button type=\"button\"\r\n                            className=\"btn btn-outline-danger btn-sm my-3\"\r\n                            disabled={status === \"searching\"}\r\n                            onClick = {() => onClickDelete(index)}\r\n                            >\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </div>    \r\n                    )\r\n                  )\r\n                )\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Tags</label>\r\n            <div className=\"col-sm-10\">\r\n              <ReactTagInput \r\n                tags={values.tags}\r\n                onChange={(newTags) => onChangeTagsInput(newTags)}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Address</label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Address\"\r\n                name=\"address\"\r\n                onChange={onChange}\r\n                defaultValue={values.address}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"form-group row\">\r\n            <label className=\"col-sm-2 col-form-label\">Price *</label>\r\n            <div className=\"col-sm-10\">\r\n              <input\r\n                type=\"number\"\r\n                className=\"form-control\"\r\n                placeholder=\"Price\"\r\n                name=\"price\"\r\n                onChange={onChange}\r\n                defaultValue={values.price}\r\n                required\r\n              />\r\n            </div>\r\n          </div>\r\n          <button className=\"btn btn-secondary\" disabled={status === \"searching\"}>Edit ad</button>\r\n        </form>)\r\n      }\r\n      <StatusResolver\r\n        status={status}\r\n        >\r\n          <Redirect to=\"/ad/curUser\" />\r\n      </StatusResolver>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  arrImages: state.images.arrImages,\r\n  status: state.images.status\r\n});\r\n\r\nexport default connect(mapStateToProps)(MyAdEditSreen)","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport API from \"../../API\";\r\n\r\nconst Logout = ({dispatch}) => {\r\n  const handleclick = () => {\r\n    localStorage.removeItem(\"token\");\r\n    API.setHeader(\"Authorization\", null);\r\n    dispatch({ type: \"user/logout\" });\r\n  };\r\n  return (\r\n    <div className=\"m-3\">\r\n      <button onClick={handleclick} type=\"button\" className=\"btn btn-outline-secondary\">Log out</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect()(Logout);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Logout from \"./logout\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst NavBar = ({ isLoggedIn, isNewUser, dispatch }) => {\r\n  const handleChange = (event) => {\r\n    event.preventDefault()\r\n    dispatch ({ type: \"new-user\", payload: event.target.value })\r\n    console.log(\"radio\", event.target.value)\r\n  }\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"collapse navbar-collapse d-flex justify-content-between\">\r\n        <div>\r\n          {isLoggedIn === true ? \r\n            (<ul className=\"navbar-nav\">\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/\">\r\n                  My profile\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/ad/curUser\">\r\n                  My ads\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/ad/find\">\r\n                  Find ad\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/ad/post\">\r\n                  Post ad\r\n                </Link>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <Link className=\"nav-link\" to=\"/messages\">\r\n                  Messages\r\n                </Link>\r\n              </li>\r\n            </ul>) : null\r\n          }  \r\n        </div>\r\n        {isLoggedIn === true ? <Logout /> : \r\n          (<div className=\"btn-group btn-group-toggle\" data-toggle=\"buttons\" >\r\n            <label className={`btn btn-outline-secondary m-3 rounded ${isNewUser === \"auth\" ? \"active\" : \"\"}`}>\r\n              <input type=\"radio\" name=\"login\" value=\"auth\" onChange={handleChange} /> Authorization \r\n            </label>\r\n            <label className={`btn btn-outline-secondary m-3 rounded ${isNewUser === \"reg\" ? \"active\" : \"\"}`}>\r\n              <input type=\"radio\" name=\"login\" value=\"reg\" onChange={handleChange} /> Registration\r\n            </label>\r\n            <label className={`btn btn-outline-secondary m-3 rounded ${isNewUser === \"chng\" ? \"active\" : \"\"}`}>\r\n              <input type=\"radio\" name=\"login\" value=\"chng\" onChange={handleChange} /> Change password\r\n            </label>\r\n          </div>)\r\n        }\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isLoggedIn: state.auth.isLoggedIn,\r\n  isNewUser: state.auth.isNewUser,\r\n});\r\n\r\nexport default connect(mapStateToProps)(NavBar);\r\n\r\n","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\nimport { useParams, Redirect } from \"react-router-dom\";\r\nimport ReactTagInput from \"@pathofdev/react-tag-input\";\r\nimport \"@pathofdev/react-tag-input/build/index.css\";\r\nimport { connect } from \"react-redux\";\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst userData = gql`\r\n  query userFind($query: String) {\r\n    UserFind(query: $query) {\r\n      _id\r\n      createdAt\r\n      login\r\n      nick\r\n      avatar {\r\n        _id\r\n        url\r\n      }\r\n      phones\r\n      addresses \r\n    }\r\n  }\r\n`;\r\n\r\nconst editUser = gql`\r\n  mutation edit($_id: String, $login: String, $nick: String, $avatar: ImageInput, $phones: [String], $addresses: [String]) {\r\n    UserUpsert(user: {\r\n      _id: $_id\r\n      login: $login,\r\n      nick: $nick,\r\n      avatar: $avatar,\r\n      phones: $phones\r\n      addresses: $addresses,\r\n    }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nconst deleteAvatar = gql`\r\n  mutation deleteAvatar($id: ID) {\r\n    ImageDelete(image: {\r\n      _id: $id\r\n     }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\n\r\nconst ProfileEditSreen = ({ token }) => {\r\n  const { _id } = useParams()\r\n  const [values, setValues] = React.useState(null);\r\n  const [status, setStatus] = React.useState(\"idle\");\r\n  const [isRequest, setIsRequest] = React.useState(true);\r\n  const [isDeletedAvatar, setIsDeletedAvatar] = React.useState(false)\r\n  \r\n  const searchUserData = () => {\r\n    try {\r\n      setStatus(\"searching\");\r\n        API.request(userData, {\r\n          query: JSON.stringify([\r\n            {\r\n              _id: _id\r\n            }\r\n          ])\r\n        }).then((res) => {\r\n          console.log(\"res\", res)\r\n          if (res.UserFind[0].addresses === null) {\r\n            res.UserFind[0].addresses = []\r\n          }\r\n          if (res.UserFind[0].phones === null) {\r\n            res.UserFind[0].phones = []\r\n          }\r\n          setValues(res.UserFind[0]);\r\n          setStatus(\"resolved\");\r\n      });\r\n    } catch (e) {\r\n        setStatus(\"rejected\");\r\n    }  \r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const target = e.target;\r\n    (setValues((prev) => ({\r\n      ...prev,\r\n      [target.name]: target.value\r\n    })));\r\n    console.log(\"values\", values)\r\n  };\r\n\r\n  const onChangeAddressesInput = (newTags) => {\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      \"addresses\": [...newTags]\r\n    }));\r\n  }\r\n\r\n  const onChangePhonesInput = (newTags) => {\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      \"phones\": [...newTags]\r\n    }));\r\n  } \r\n\r\n  const onChangeAvatar = (e) => {\r\n    setStatus(\"searching\");\r\n    const formData = new FormData();\r\n    formData.append(\"photo\", e.target.files[0]);\r\n    fetch(`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/upload`, {\r\n      method: \"POST\",\r\n      headers: token\r\n        ? { Authorization: \"Bearer \" + token }\r\n        : {},\r\n      body: formData\r\n    })\r\n      .then((res) => res.json())\r\n      .then((json) => {\r\n        console.log(\"json\", json)\r\n        setValues((prev) => ({\r\n          ...prev,\r\n          \"avatar\": {\"_id\": json._id, \"url\": json.url}\r\n        }));\r\n        setStatus(\"resolved\");\r\n      });\r\n  };\r\n\r\n  const onClickDeleteAvatar = async () => {\r\n    try {\r\n      setStatus(\"searching\");\r\n      const res = await API.request(deleteAvatar, { _id: values.avatar._id });\r\n      console.log(\"resDel\", res);\r\n      setStatus(\"resolved\");\r\n\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }     \r\n    values.avatar = null;\r\n    setIsDeletedAvatar(!isDeletedAvatar)\r\n  }\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (values.avatar === null) {\r\n      delete values.avatar\r\n    } else {\r\n      delete values.avatar.url\r\n    }\r\n\r\n    try {\r\n      setStatus(\"searching\");\r\n      API.request(editUser, values)\r\n        .then((res) => {\r\n          console.log(\"res\", res)\r\n          setStatus(\"deleted\");\r\n        });\r\n    } catch (e) {\r\n      setStatus(\"rejected\");\r\n    }  \r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (isRequest) {\r\n      searchUserData()\r\n      setIsRequest(false);\r\n    }\r\n  }, [isDeletedAvatar])\r\n\r\n  console.log(values, \"result\", values !== null && values.length !== 0);\r\n\r\n  return (\r\n    <div className=\"Container mt-3 flex-grow-1\">\r\n      <StatusResolver\r\n        status={status}\r\n        redirectTo=\"/\"\r\n        >\r\n        {values === null ? null :\r\n          (<form onSubmit={onSubmit} className=\"col-8 mx-auto mt-3\">\r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-2 col-form-label\">Login *</label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Login\"\r\n                  name=\"login\"\r\n                  onChange={onChange}\r\n                  defaultValue={values.login}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-2 col-form-label\">Nick</label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Nick\"\r\n                  name=\"nick\"\r\n                  onChange={onChange}\r\n                  defaultValue={values.nick}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-2 col-form-label\">Avatar</label>\r\n              <div className=\"col-sm-10\">\r\n                <input\r\n                  type=\"file\"\r\n                  className=\"form-control-file\"\r\n                  placeholder=\"ImageInput\"\r\n                  name=\"avatar\"\r\n                  onChange={onChangeAvatar}\r\n                  disabled={values.avatar}\r\n                />\r\n              </div>\r\n              {values.avatar === null || values.avatar === undefined || values.avatar.url === undefined ? null :\r\n                <div className=\"col-3 mx-auto pt-3\">\r\n\r\n                  <div className=\"w-100\">\r\n                    <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${values.avatar.url}`}\r\n                      className=\"img-fluid rounded w-100 h-100\"\r\n                      alt=\"picture\" \r\n                      />\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-center\">\r\n                    <button type=\"button\"\r\n                      className=\"btn btn-outline-danger btn-sm my-3\"\r\n                      onClick = {onClickDeleteAvatar}\r\n                      >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n\r\n                </div>\r\n              }\r\n            </div>  \r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-2 col-form-label\">Phones</label>\r\n              <div className=\"col-sm-10\">\r\n                <ReactTagInput \r\n                  tags={values.phones}\r\n                  onChange={(newTags) => onChangePhonesInput(newTags)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"form-group row\">\r\n              <label className=\"col-sm-2 col-form-label\">Addresses</label>\r\n              <div className=\"col-sm-10\">\r\n                <ReactTagInput \r\n                  tags={values.addresses}\r\n                  onChange={(newTags) => onChangeAddressesInput(newTags)}\r\n                />\r\n              </div>\r\n            </div>\r\n          <button className=\"btn btn-secondary\" disabled={status === \"searching\"}>Edit profile</button>\r\n          </form>)\r\n        }\r\n      </StatusResolver>  \r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  token: state.auth.token,\r\n});\r\n\r\nexport default connect(mapStateToProps)(ProfileEditSreen)","import React from \"react\";\r\nimport StatusResolver from \"../components/statusResolver\"\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst AddMessage = ({ dispatch, userId, name, messageSendStatus, isSendMessage, isDisabled, isSendMessageYourself, isMessagesOneUserScreen, token}) => {\r\n  const [values, setValues] = React.useState({\"to\": {\"_id\": userId}})\r\n  const textareaElRef = React.useRef(null);\r\n  const { sub } = jwt_decode(token);\r\n  const { id } = sub;\r\n\r\n  const onChangeTextMessage = (e) => {\r\n    e.persist()\r\n    setValues((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value})\r\n    );\r\n    console.log(\"value\", values)\r\n  }\r\n\r\n  const sendMessage = (e) => {\r\n    e.preventDefault();\r\n    if (id === userId) {\r\n      dispatch({ type: \"messageSend/yourself\" })\r\n      textareaElRef.current.value = null;\r\n    } else {\r\n      dispatch({ type: \"messageSend/request\", payload: values });\r\n      textareaElRef.current.value = null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"border rounded my-2 mx-auto w-75 p-3\">\r\n      <form onSubmit={sendMessage}>\r\n        <div className=\"mt-2 form-group mb-0\">\r\n          <textarea\r\n            className=\"form-control\"\r\n            placeholder=\"Enter message\"\r\n            name=\"text\"\r\n            onChange={onChangeTextMessage}\r\n            ref={textareaElRef}\r\n            required\r\n          />\r\n          <div className=\"d-flex justify-content-end mt-3\">\r\n            <button type=\"submit\"\r\n              className=\"btn btn-outline-success w-25\"\r\n              disabled={isDisabled}\r\n            >\r\n              Send message\r\n            </button>\r\n          </div>\r\n        </div> \r\n      </form>\r\n      <StatusResolver\r\n        status={messageSendStatus}\r\n      >\r\n        {isMessagesOneUserScreen ? null :\r\n          (isSendMessage ?\r\n            <div className=\"my-3\">\r\n              <span className=\"alert alert-info mb-0\">\r\n                The message was successfully sent to the user {name}\r\n              </span> \r\n            </div> \r\n            :\r\n            null    \r\n          ||\r\n          isSendMessageYourself ?\r\n            <div className=\"my-3\">\r\n              <span className=\"alert alert-warning mb-0\">\r\n                You cannot send yourself a message\r\n              </span>\r\n            </div>    \r\n            :\r\n            null    \r\n          )\r\n        }  \r\n      </StatusResolver>    \r\n    </div>\r\n  )\r\n}\r\n\r\nAddMessage.defaultProps = {\r\n  isMessagesOneUserScreen: false,\r\n};\r\n\r\n\r\nexport default AddMessage","import React from \"react\";\r\nimport API from \"../../API\";\r\nimport { gql } from \"graphql-request\";\r\nimport ViewImages from \"../../shared/components/view-images\"\r\nimport AdItemOne from \"../../shared/components/ad-item-one\"\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\nimport camera from \"../../shared/images/camera.png\"\r\nimport { useParams } from \"react-router-dom\";\r\nimport AdComments from \"../../shared/components/ad-comments\";\r\nimport AddMessage from \"../../shared/components/messages\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst myAdOne = gql`\r\n  query adFindOne($query: String) {\r\n    AdFindOne(query: $query) {\r\n      _id\r\n      owner {\r\n        _id\r\n        login\r\n        nick \r\n        phones\r\n        addresses\r\n      } \r\n      price\r\n      createdAt\r\n      title\r\n      tags\r\n      address\r\n      description\r\n      images {\r\n        url\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst OtherAdOneSreen = ({ dispatch, messageSendStatus, isSendMessage, isSendMessageYourself, isDisabled, token}) => {\r\n  const { _id } = useParams()\r\n  const [result, setResult] = React.useState(null);\r\n  const [status, setStatus] = React.useState(\"idle\");\r\n  const [isComments, setIsComments] = React.useState(false)\r\n\r\n  const searchUserAdOne = () => {\r\n    try {\r\n      setStatus(\"searching\");\r\n        API.request(myAdOne, {\r\n          query: JSON.stringify([\r\n            {\r\n              _id: _id\r\n            }\r\n          ])\r\n        }).then((res) => {\r\n          console.log(\"res\", res)\r\n          setResult(res.AdFindOne);\r\n          setStatus(\"resolved\");\r\n      });\r\n    } catch (e) {\r\n        setStatus(\"rejected\");\r\n    }  \r\n  };\r\n\r\n  const viewComments = () => {\r\n    setIsComments(!isComments)\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    searchUserAdOne()\r\n  }, [])\r\n\r\n  console.log(result, \"result\", result !== null);\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <div className=\"col-sm-12 my-3\">\r\n        <StatusResolver\r\n          status={status}\r\n        >\r\n          {result === null ? null : \r\n            (result.images === null || result.images.length === 0 ?\r\n              <div className=\"border rounded my-3 mx-auto w-25 p-3\">\r\n                <img src={camera}\r\n                  className=\"img-fluid rounded\"\r\n                  alt=\"picture\" \r\n                />\r\n              </div> :\r\n              (result.images[0].url === null ?\r\n                <div className=\"border rounded my-3 mx-auto w-25 p-3\">\r\n                  <img src={camera}\r\n                    className=\"img-fluid rounded\"\r\n                    alt=\"picture\" \r\n                  />\r\n                </div> :\r\n                <ViewImages images={result.images.filter(image => image.url !== null)} />\r\n              ) \r\n            )\r\n          }\r\n          {result === null ? null :\r\n            <>\r\n              <AdItemOne onClick={viewComments} {...result}/>\r\n              {isComments ?\r\n                <AdComments id={_id}/>\r\n                : null\r\n              }\r\n              <AddMessage \r\n                userId={result.owner._id}\r\n                name={result.owner.nick || result.owner.login}\r\n                messageSendStatus={messageSendStatus}\r\n                isSendMessage={isSendMessage}\r\n                isSendMessageYourself={isSendMessageYourself}\r\n                isDisabled={isDisabled}\r\n                dispatch={dispatch}\r\n                token={token}\r\n              />\r\n            </>\r\n          }\r\n\r\n        </StatusResolver>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nconst mapStateToProps = (state) => ({\r\n  messageSendStatus: state.messages.messageSendStatus,\r\n  isSendMessage: state.messages.isSendMessage,\r\n  isSendMessageYourself: state.messages.isSendMessageYourself,\r\n  isDisabled: state.messages.isDisabled,\r\n  token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(OtherAdOneSreen);\r\n","import React from \"react\";\r\nimport { useParams, Link } from \"react-router-dom\";\r\nimport AdItem from \"../../shared/components/ad-item\"\r\nimport StatusResolver from \"../../shared/components/statusResolver\"\r\nimport { connect } from \"react-redux\";\r\n\r\nconst OtherUserAdsScreen = ({ dispatch, adsData, adsCount, status, skip }) => {\r\n  const { _id } = useParams()\r\n  const [limit, setLimit] = React.useState(10);\r\n\r\n  const searchUserAds = () => {\r\n    dispatch({ type: \"adsUserFind/request\", payload: {\r\n      value: null,\r\n      id: _id,\r\n      skip: skip,\r\n      limit: limit\r\n    }});\r\n  };\r\n\r\n  const onChangeSelect = (e) => {\r\n    setLimit(+e.target.value);\r\n  };\r\n\r\n  const onClickNextButton = () => {\r\n    adsCount <= limit ? dispatch({ type: \"skip/reset\" }) : dispatch({ type: \"skip/setNext\", payload: limit })\r\n    searchUserAds()\r\n  }\r\n  \r\n  const onClickPrevButton = () => {\r\n    skip < limit ? dispatch({ type: \"skip/reset\" }) : dispatch({ type: \"skip/setPrev\", payload: limit })\r\n    searchUserAds()\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    searchUserAds()\r\n    return () => dispatch ({ type: \"findRequest/reset\" })\r\n  }, [limit])\r\n\r\n  console.log(adsData, \"result\", adsData !== null && adsData.length !== 0);\r\n  console.log(\"skip\", skip)\r\n  console.log(\"limit\", limit)\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <div className=\"row input-group m-3 mx-auto w-50\">\r\n        <label className=\"col-sm-6 col-form-label\">Select the number of ads on the page</label>\r\n        <div className=\"col-sm-6\">\r\n          <select\r\n            className=\"form-control\"\r\n            onChange={onChangeSelect}\r\n            name=\"select\">\r\n              <option key={10} value={10}>10</option>\r\n              <option key={20} value={20}>20</option>\r\n              <option key={30} value={30}>30</option>\r\n              <option key={50} value={50}>50</option>\r\n              <option key={100} value={100}>100</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div className=\"col-sm-12 my-3\">\r\n        <StatusResolver\r\n          status={status}\r\n        >\r\n          <ul>\r\n            {adsData === null ? null : \r\n              adsData.map((ad) => (\r\n                <AdItem key={ad._id} {...ad}>\r\n                  <Link to={`/ad/otherUser/${ad._id}`}\r\n                    style={{width:\"70px\"}}\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                    role=\"button\">View\r\n                  </Link>\r\n                </AdItem>             \r\n              ))\r\n            }\r\n          </ul>\r\n          <div className=\" d-flex justify-content-between w-75 mx-auto\">\r\n            <button \r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm m-3\"\r\n              style={{width:\"70px\"}}\r\n              onClick = {onClickPrevButton}\r\n              disabled={skip === 0}\r\n            >\r\n              Prev\r\n            </button>\r\n            <button \r\n              type=\"button\"\r\n              className=\"btn btn-outline-info btn-sm m-3\"\r\n              style={{width:\"70px\"}}\r\n              onClick = {onClickNextButton}\r\n              disabled={skip + limit >= adsCount}\r\n            >\r\n              Next\r\n            </button>\r\n          </div>\r\n        </StatusResolver>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  adsData: state.ads.adsData,\r\n  adsCount: state.ads.adsCount,\r\n  status: state.ads.status,\r\n  skip: state.ads.skip,\r\n});\r\n\r\nexport default connect(mapStateToProps)(OtherUserAdsScreen);\r\n\r\n\r\n","import React from \"react\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { Link } from \"react-router-dom\";\r\nimport StatusResolver from \"./../../shared/components/statusResolver\";\r\nimport { connect } from \"react-redux\";\r\nimport avatar from \"../../shared/images/avatar.png\"\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nconst MessagesScreen = ({ dispatch, messageData, messageGetStatus, lastMessagesData }) => {\r\n  const token = localStorage.getItem(\"token\")\r\n  const { sub } = jwt_decode(token);\r\n  const { id } = sub;\r\n\r\n  React.useEffect(() => {\r\n    dispatch({ type: \"messageGet/request\", payload: id });\r\n    return () => {\r\n      dispatch({ type: \"cancelMessageGet/request\" })\r\n    }\r\n  }, [])\r\n\r\n  console.log(messageData, \"messageData\", messageData !== null);\r\n  console.log(\"lastMessagesData\", lastMessagesData)\r\n\r\n  return ( \r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <StatusResolver\r\n        noData={messageData !== null && messageData.length === 0}\r\n        status={messageGetStatus}\r\n        content=\"You have no messages\"\r\n      >\r\n        {lastMessagesData === null ? null :\r\n          <div className=\"w-75 mx-auto\">\r\n            <ul className=\"list-unstyled\">\r\n              <li key={-1}>\r\n                <div className=\"row d-flex p-3\">\r\n                  <div className=\"col-3 font-weight-bold\" style={{fontSize:\"20px\"}}>User</div>\r\n                  <div className=\"col-7 font-weight-bold\" style={{fontSize:\"20px\"}}>Last message</div>\r\n                  <div className=\"col-2 font-weight-bold\" style={{fontSize:\"20px\"}}>Created</div>\r\n                </div>\r\n              </li>\r\n              {lastMessagesData === null ? null :\r\n                lastMessagesData.map((elem, index) => (\r\n                  elem.owner._id === id ? \r\n                    (\r\n                      <li key={index}>\r\n                        <Link to={`/messages/${elem.to._id}`} className=\"text-reset text-decoration-none\">\r\n                          <div className=\"row d-flex border-top p-3 lastMessage\">\r\n                            <div className=\"col-1 d-flex align-items-center\">\r\n                              {elem.to.avatar === null ? \r\n                                <img src={avatar}\r\n                                  className=\"img-fluid rounded-circle\"\r\n                                  alt=\"picture\" \r\n                                  style={{objectFit: \"cover\", width: \"50px\", height: \"50px\"}}\r\n                                /> \r\n                                : \r\n                                <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${elem.to.avatar.url}`}\r\n                                  className=\"img-fluid rounded-circle\"\r\n                                  alt=\"picture\" \r\n                                  style={{objectFit: \"cover\", width: \"50px\", height: \"50px\"}}\r\n                                />\r\n                              }\r\n                            </div>\r\n                            <div className=\"col-2 d-flex align-items-center justify-content-center text-break\" style={{fontSize:\"18px\"}}>\r\n                              {elem.to.nick || elem.to.login}\r\n                            </div>\r\n                            <div className=\"col-7 d-flex align-items-center font-italic text-break text-justify\" style={{fontSize:\"18px\"}}>\r\n                              to: \"{elem.text}\"\r\n                            </div>\r\n                            <div className=\"col-2 d-flex align-items-center justify-content-center\" style={{fontSize:\"14px\"}}>\r\n                              {new Date(elem.createdAt/1).toLocaleString()}\r\n                            </div>\r\n                          </div>\r\n                        </Link>\r\n                      </li>  \r\n                    ) :\r\n                    (\r\n                      <li key={index}>\r\n                        <Link to={`/messages/${elem.owner._id}`} className=\"text-reset text-decoration-none\">\r\n                          <div className=\"row d-flex border-top p-3 lastMessage\">\r\n                            <div className=\"col-1 d-flex align-items-center\">\r\n                              {elem.owner.avatar === null ? \r\n                                <img src={avatar}\r\n                                  className=\"img-fluid rounded-circle\"\r\n                                  alt=\"picture\" \r\n                                  style={{objectFit: \"cover\", width: \"50px\", height: \"50px\"}}\r\n                                /> \r\n                                : \r\n                                <img src={`${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/${elem.owner.avatar.url}`}\r\n                                  className=\"img-fluid rounded-circle\"\r\n                                  alt=\"picture\" \r\n                                  style={{objectFit: \"cover\", width: \"50px\", height: \"50px\"}}\r\n                                />\r\n                              }\r\n                            </div>\r\n                            <div className=\"col-2 d-flex align-items-center justify-content-center text-break\" style={{fontSize:\"18px\"}}>\r\n                              {elem.owner.nick || elem.owner.login}\r\n                            </div>\r\n                            <div className=\"col-7 d-flex align-items-center font-italic text-break text-justify\" style={{fontSize:\"18px\"}}>\r\n                              from: \"{elem.text}\"\r\n                            </div>\r\n                            <div className=\"col-2 d-flex align-items-center justify-content-center\" style={{fontSize:\"14px\"}}>\r\n                              {new Date(elem.createdAt/1).toLocaleString()}\r\n                            </div>\r\n                          </div>\r\n                        </Link>\r\n                      </li>  \r\n                    ) \r\n                ))\r\n              }\r\n            </ul>\r\n          </div>\r\n        }\r\n      </StatusResolver>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  messageData: state.messages.messageData,\r\n  messageGetStatus: state.messages.messageGetStatus,\r\n  lastMessagesData: state.messages.lastMessagesData\r\n});\r\n\r\nexport default connect(mapStateToProps)(MessagesScreen);","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport jwt_decode from \"jwt-decode\";\r\nimport StatusResolver from \"./../../shared/components/statusResolver\";\r\nimport { connect } from \"react-redux\";\r\nimport AddMessage from \"../../shared/components/messages\";\r\n\r\nconst MessagesOneUserScreen = ({ dispatch, messageData, messageGetStatus,\r\n  messageSendStatus, isSendMessage, isSendMessageYourself, isDisabled, token }) => {\r\n  const { sub } = jwt_decode(token);\r\n  const { id } = sub;\r\n  const { _id } = useParams();\r\n\r\n  React.useEffect(() => {\r\n    dispatch({ type: \"oneUserMessageGet/request\", payload: {\r\n      id: id,\r\n      _id: _id\r\n    }});\r\n    return () => {\r\n      dispatch({ type: \"cancelMessageGet/request\" })\r\n    }\r\n  }, [])\r\n  \r\n  console.log(messageData, \"messageData\", messageData !== null);\r\n\r\n  return (\r\n    <div className=\"mt-3 flex-grow-1\">\r\n      <StatusResolver status={messageGetStatus}>\r\n        {messageData === null ? null :\r\n          <>\r\n            <h2 className=\"w-75 mx-auto text-break text-secondary\">Correspondence with the user {messageData[0].owner._id === id ?\r\n              messageData[0].to.nick || messageData[0].to.login :\r\n              messageData[0].owner.nick || messageData[0].owner.login\r\n              }\r\n            </h2>\r\n            <div className=\"border rounded my-3 mx-auto w-75 p-3 d-flex flex-column\">\r\n              {messageData.map((message, index) => \r\n                (message.owner._id === id ?\r\n                  <div key={index} className=\"row d-flex my-2 px-3 text-success ml-3\">\r\n                    <div className=\"col-auto mt-2 pt-1 ml-3\" style={{fontSize:\"16px\"}}> \r\n                      Your message:\r\n                    </div> \r\n                    <div className=\"col font-italic text-justify p-0 d-flex\">\r\n                      <div className=\"alert alert-success mb-0\">\r\n                        <p className=\"mb-1 text-break\">\r\n                          {message.text}\r\n                        </p>\r\n                        <hr className=\"my-1\"></hr>\r\n                        <p style={{fontSize:\"12px\"}} className=\"float-right mb-0\">\r\n                          {new Date(message.createdAt/1).toLocaleString()}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div> :\r\n                  <div key={index} className=\"row d-flex mr-3 my-2 px-3 text-primary\">\r\n                    <div className=\"col-auto text-break text-left mt-2 pt-1\" style={{fontSize:\"16px\"}}>\r\n                      {message.owner.nick || message.owner.login}:\r\n                    </div>\r\n                    <div className=\"col font-italic text-justify p-0 d-flex mr-3\">\r\n                      <div className=\"alert alert-primary mb-0\">\r\n                        <p className=\"mb-1 text-break\">\r\n                          {message.text}\r\n                        </p>\r\n                        <hr className=\"my-1\"></hr>\r\n                        <p style={{fontSize:\"12px\"}} className=\"float-right mb-0\">\r\n                          {new Date(message.createdAt/1).toLocaleString()}\r\n                        </p>\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )\r\n              )}      \r\n            </div>\r\n            <AddMessage\r\n              userId={_id}\r\n              name={messageData[0].owner._id === id ? \r\n                messageData[0].to.nick || messageData[0].to.login :\r\n                messageData[0].owner.nick || messageData[0].owner.login}\r\n              messageSendStatus={messageSendStatus}\r\n              isSendMessage={isSendMessage}\r\n              isSendMessageYourself={isSendMessageYourself}\r\n              isDisabled={isDisabled}\r\n              isMessagesOneUserScreen={true}\r\n              token={token}\r\n              dispatch={dispatch}\r\n            />\r\n          </>\r\n        }\r\n      </StatusResolver>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  messageData: state.messages.messageData,\r\n  messageGetStatus: state.messages.messageGetStatus,\r\n  messageSendStatus: state.messages.messageSendStatus,\r\n  isSendMessage: state.messages.isSendMessage,\r\n  isSendMessageYourself: state.messages.isSendMessageYourself,\r\n  isDisabled: state.messages.isDisabled,\r\n  token: state.auth.token\r\n});\r\n\r\nexport default connect(mapStateToProps)(MessagesOneUserScreen);\r\n","import React from \"react\";\nimport \"./styles.css\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport ProtectedRoute from \"./shared/components/protected-route\";\nimport HomeScreen from \"./screens/home\";\nimport LoginScreen from \"./screens/login\";\nimport AdFind from \"./screens/ad-find\" \nimport PostAdUser from \"./screens/ad-post\"\nimport MyAdsScreen from \"./screens/ad-my\"\nimport MyAdOneSreen from \"./screens/ad-my-one\"\nimport MyAdEditSreen from \"./screens/ad-my-edit\"\nimport Navbar from \"./shared/components/navbar\"\nimport ProfileEditSreen from \"./screens/profile-edit\"\nimport OtherAdOneSreen from \"./screens/ad-other-users-one\"\nimport OtherUserAdsScreen from \"./screens/ads-other-user\"\nimport MessagesScreen from \"./screens/messages\";\nimport MessagesOneUserScreen from \"./screens/messages-one-user\"\nimport exchange1 from \"./shared/images/exchange1.png\"\n\nconst NotFound = () => <div className=\"mt-3 flex-grow-1\"> Page not found</div>;\n\nfunction App() {\n  return (\n    <div className=\"d-flex flex-column App\">\n      <header className=\"bg-secondary d-flex\">\n        <img src={exchange1}\n          className=\"img-fluid rounded pl-3 my-auto  ml-3\"\n          style={{width:\"70px\", height:\"70px\"}} \n        />  \n        <div className=\"text-white font-weight-bold text-left align-middle p-2 m-3\" style={{fontSize:\"24px\"}}>\n          Stock exchange\n        </div>\n      </header>\n      <Router basename=\"/market-project\">\n        <Navbar />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" >\n            <HomeScreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/profile/edit/:_id\" >\n            <ProfileEditSreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ad/find\" >\n            <AdFind />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ad/curUser\" >\n            <MyAdsScreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ad/otherUser/:_id\" >\n            <OtherAdOneSreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ads/otherUser/:_id\" >\n            <OtherUserAdsScreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ad/curUser/:_id\" >\n            <MyAdOneSreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ad/curUser/edit/:_id\" >\n            <MyAdEditSreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/ad/post\" >\n            <PostAdUser />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/messages\" >\n            <MessagesScreen />\n          </ProtectedRoute>\n          <ProtectedRoute exact path=\"/messages/:_id\" >\n            <MessagesOneUserScreen />\n          </ProtectedRoute>\n          <Route path=\"/login\" exact>\n            <LoginScreen />\n          </Route>\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </Router>\n      <footer className=\"bg-dark mt-3\" id=\"footer\">\n        <div></div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","const initialState = {\r\n  isLoggedIn: !!localStorage.getItem(\"token\"),\r\n  isNewUser: \"reg\",\r\n  token: localStorage.getItem(\"token\"),\r\n  status: \"idle\",\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"login/pending\":\r\n      return {\r\n        ...state,\r\n        status: \"pending\"\r\n      };\r\n    case \"login/resolved\":\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        token: action.payload,\r\n        status: \"resolved\"\r\n      };\r\n    case \"login/notRegistered\":\r\n        return {\r\n          ...state,\r\n          status: \"notRegistered\"\r\n        };\r\n    case \"login/rejected\":\r\n      return {\r\n        ...state,\r\n        status: \"rejected\",\r\n        isLoggedIn: false\r\n      };\r\n    case \"registration/isRegistered\":\r\n        return {\r\n          ...state,\r\n          status: \"isRegistered\"\r\n        };\r\n    case \"registration/registered\":\r\n      return {\r\n        ...state,\r\n        status: \"registered\"\r\n      };\r\n    case \"password/changed\":\r\n        return {\r\n          ...state,\r\n          status: \"changed\"\r\n        };\r\n    case \"password/notChanged\":\r\n        return {\r\n          ...state,\r\n          status: \"notChanged\"\r\n        };\r\n    case \"new-user\":\r\n      return {\r\n        ...state,\r\n        isNewUser: action.payload,\r\n        status: \"idle\",\r\n      };    \r\n    case \"user/logout\":\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n        token: null,\r\n        status: \"idle\",\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import { takeLatest, put, call } from \"redux-saga/effects\";\r\nimport { gql } from \"graphql-request\";\r\nimport API from \"./../../API\"\r\n\r\nconst loginQuery = gql`\r\n  query auth($login: String!, $password: String!) {\r\n    login(login: $login, password: $password) \r\n  }\r\n`;\r\n\r\nasync function request (query, values) {\r\n  console.log(\"API\", API)\r\n  const data = await API.request(query, values);\r\n  return data\r\n}\r\n\r\nfunction* loginRequest(action) {\r\n  yield put ({ type: \"login/pending\" })\r\n  try {\r\n    const { login } = yield call(request, loginQuery, action.payload);\r\n    console.log(\"login\", login);\r\n    if (login === null) {\r\n      yield put({ type: \"login/notRegistered\" });\r\n    }\r\n    else {\r\n      localStorage.setItem(\"token\", login);\r\n      console.log(localStorage.getItem(\"token\"))\r\n      API.setHeader(\"Authorization\", `Bearer ${login}`);\r\n      yield put({ type: \"login/resolved\", payload: login });\r\n    }\r\n  }\r\n  catch(e) {\r\n    yield put({ type: \"login/rejected\" })\r\n  }\r\n}\r\n\r\nexport function* loginRequestSaga() {\r\n  yield takeLatest(\"login/request\", loginRequest)\r\n}\r\n\r\nconst createMutation = gql`\r\n  mutation create($login: String!, $password: String!) {\r\n    createUser(login: $login, password: $password) {\r\n      _id\r\n      login\r\n    }\r\n  }\r\n`;\r\n\r\nfunction* registrationRequest(action) {\r\n  yield put ({ type: \"login/pending\" })\r\n  try {\r\n    const { createUser } = yield call(request, createMutation, action.payload);\r\n    console.log(\"createUser\", createUser);\r\n    if (createUser === null) {\r\n      yield put({ type: \"registration/isRegistered\" });\r\n    }\r\n    else {\r\n      yield put({ type: \"registration/registered\" });\r\n    }\r\n  }\r\n  catch(e) {\r\n    yield put({ type: \"login/rejected\" })\r\n  }\r\n}\r\n\r\nexport function* registrationRequestSaga() {\r\n  yield takeLatest(\"registration/request\", registrationRequest)\r\n}\r\n\r\nconst changePasswordMutation = gql`\r\n  mutation change($login: String!, $password: String!, $newPassword: String!) {\r\n    changePassword(login: $login, password: $password, newPassword: $newPassword) {\r\n      _id\r\n      login\r\n    }\r\n  }\r\n`;\r\n\r\nfunction* changePasswordRequest(action) {\r\n  yield put ({ type: \"login/pending\" })\r\n  try {\r\n    const { changePassword } = yield call(request, changePasswordMutation, action.payload);\r\n    console.log(\"changePassword\", changePassword);\r\n    if (changePassword === null) {\r\n      yield put({ type: \"login/notRegistered\" });\r\n    }\r\n    else {\r\n      yield put({ type: \"password/changed\" });\r\n    }\r\n  }\r\n  catch(e) {\r\n    yield put({ type: \"login/rejected\" })\r\n  }\r\n}\r\n\r\nexport function* changePasswordRequestSaga() {\r\n  yield takeLatest(\"changePassword/request\", changePasswordRequest)\r\n}\r\n","const initialAdsState = {\r\n  adsCount: null,\r\n  adsData: null,\r\n  status: \"idle\",\r\n  skip: 0,\r\n};\r\n  \r\nfunction adsReducer(state = initialAdsState, action) {\r\n  switch (action.type) {\r\n    case \"findRequest/pending\":\r\n      return {\r\n        ...state,\r\n        status: \"searching\"\r\n      };\r\n    case \"findRequest/resolved\":\r\n      return {\r\n        ...state,\r\n        adsData: action.payload.adsData,\r\n        adsCount: action.payload.adsCount,\r\n        status: \"resolved\"\r\n      };\r\n    case \"findRequest/rejected\":\r\n      return {\r\n        ...state,\r\n        status: \"rejected\",\r\n      };\r\n    case \"findRequest/reset\":\r\n      return {\r\n        ...state,\r\n        ...initialAdsState\r\n      };  \r\n    case \"skip/reset\":\r\n      return {\r\n        ...state,\r\n        skip: 0\r\n      };\r\n    case \"skip/setNext\":\r\n      return {\r\n        ...state,\r\n        skip: state.skip + action.payload\r\n      };\r\n    case \"skip/setPrev\":\r\n      return {\r\n        ...state,\r\n        skip: state.skip - action.payload\r\n      };              \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default adsReducer;","export const getSkip = state =>  state.ads.skip\r\n\r\n","import { takeLatest, put, call, select } from \"redux-saga/effects\";\r\nimport { gql } from \"graphql-request\";\r\nimport API from \"./../../API\"\r\nimport { getSkip } from \"./selectors\"\r\n\r\nconst adFind = gql`\r\n  query adFind($query: String) {\r\n    AdFind(query: $query) {\r\n      _id\r\n      owner {\r\n        _id\r\n        login\r\n        nick \r\n        phones\r\n        addresses\r\n      } \r\n      price\r\n      createdAt\r\n      title\r\n      images {\r\n        url\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst adCount = gql`\r\n  query adCount($query: String) {\r\n    AdCount(query: $query) \r\n  }\r\n`;\r\n\r\nconst allAdFind = gql`\r\n  query adFind($query: String) {\r\n    AdCount(query: \"[{}]\") \r\n    AdFind(query: $query) {\r\n      _id\r\n      owner {\r\n        _id\r\n        login\r\n        nick\r\n      } \r\n      price\r\n      createdAt\r\n      title\r\n      images {\r\n        url\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nasync function findAllAdsDataRequest (skip, limit) {\r\n  const allAdsData = await API.request(allAdFind, {\r\n    query: JSON.stringify([\r\n      {},\r\n      {\r\n        sort: [{_id: -1}],\r\n        skip: [skip],\r\n        limit: [limit]\r\n      }\r\n    ])\r\n  })\r\n  return allAdsData\r\n};\r\n\r\nasync function findAdsCountRequest (value) {\r\n  const adsCount = await API.request(adCount, {\r\n    query: JSON.stringify([\r\n      {\r\n        $or: [{title: `/${String(value)}/`}, {description: `/${String(value)}/`}, {tags: `/${String(value)}/`}]  \r\n      }\r\n      ])\r\n  })\r\n  return adsCount\r\n}\r\n\r\nasync function findAdsDataRequest (value, skip, limit) {\r\n    const adsData = await API.request(adFind, {\r\n      query: JSON.stringify([\r\n        {\r\n          $or: [{title: `/${String(value)}/`}, {description: `/${String(value)}/`}, {tags: `/${String(value)}/`}]  \r\n        },\r\n        {\r\n          sort: [{_id: -1}],\r\n          skip: [skip],\r\n          limit: [limit]\r\n        }\r\n      ])\r\n    })\r\n    return adsData\r\n};\r\n\r\n/*function* findAdsRequest(action) {\r\n  yield put ({ type: \"findRequest/pending\" })\r\n  const skip = yield select(getSkip)\r\n  if (action.payload.value === null) {\r\n    try {\r\n      const { AdCount, AdFind } = yield call(findAllAdsDataRequest, skip, action.payload.limit);\r\n      console.log(\"AdCount\", AdCount);\r\n      console.log(\"AdFind\", AdFind);\r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: AdFind,\r\n        adsCount: AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  } else {\r\n    try {\r\n      const { AdCount } = yield call(findAdsCountRequest, action.payload.value);\r\n      console.log(\"AdCount\", AdCount);\r\n      const { AdFind } = yield call(findAdsDataRequest, action.payload.value, skip, action.payload.limit)\r\n      console.log(\"AdFind\", AdFind);\r\n  \r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: AdFind,\r\n        adsCount: AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  }\r\n}*/\r\n\r\nfunction* findAdsRequest(action) {\r\n  yield put ({ type: \"findRequest/pending\" })\r\n  const skip = yield select(getSkip)\r\n  if (action.payload.value === null) {\r\n    try {\r\n      const { AdCount, AdFind } = yield call(findAllAdsDataRequest, skip, action.payload.limit);\r\n      console.log(\"AdCount\", AdCount);\r\n      console.log(\"AdFind\", AdFind);\r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: AdFind,\r\n        adsCount: AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  } else {\r\n    try {\r\n      const arrPromise = yield Promise.all([yield call(findAdsCountRequest, action.payload.value), \r\n        yield call(findAdsDataRequest, action.payload.value, skip, action.payload.limit)]) \r\n      console.log(\"arrPromise\", arrPromise);\r\n      console.log(\"AdCount\", arrPromise[0].AdCount);\r\n      console.log(\"AdFind\", arrPromise[1].AdFind);\r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: arrPromise[1].AdFind,\r\n        adsCount: arrPromise[0].AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport function* findAdsRequestSaga() {\r\n  yield takeLatest(\"adsFind/request\", findAdsRequest)\r\n}\r\n\r\nconst userAds = gql`\r\n  query adFind($query: String) {\r\n    AdFind(query: $query) {\r\n      _id\r\n      owner {\r\n        _id\r\n        login\r\n        nick \r\n      } \r\n      price\r\n      createdAt\r\n      title\r\n      images {\r\n        url\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nasync function findUserAllAdsCountRequest (id) {\r\n  const adsCount = await API.request(adCount, {\r\n    query: JSON.stringify([\r\n      {\r\n        ___owner: id\r\n      }\r\n      ])\r\n  })\r\n  return adsCount\r\n}\r\n\r\nasync function findUserAllAdsDataRequest (id, skip, limit) {\r\n  const myAllAdsData = await API.request(userAds, {\r\n    query: JSON.stringify([\r\n      {\r\n        ___owner: id\r\n      },\r\n      {\r\n        sort: [{_id: -1}],\r\n        skip: [skip],\r\n        limit: [limit]\r\n      }\r\n    ])\r\n  })\r\n  return myAllAdsData\r\n};\r\n\r\nasync function findUserAdsCountRequest (id, value) {\r\n  const adsCount = await API.request(adCount, {\r\n    query: JSON.stringify([\r\n      {\r\n        ___owner: id,\r\n        $or: [{title: `/${String(value)}/`}, {description: `/${String(value)}/`}, {tags: `/${String(value)}/`}]  \r\n      }\r\n      ])\r\n  })\r\n  return adsCount\r\n}\r\n\r\nasync function findUserAdsDataRequest (id, value, skip, limit) {\r\n  const myAllAdsData = await API.request(userAds, {\r\n    query: JSON.stringify([\r\n      {\r\n        ___owner: id,\r\n        $or: [{title: `/${String(value)}/`}, {description: `/${String(value)}/`}, {tags: `/${String(value)}/`}]  \r\n      },\r\n      {\r\n        sort: [{_id: -1}],\r\n        skip: [skip],\r\n        limit: [limit]\r\n      }\r\n    ])\r\n  })\r\n  return myAllAdsData\r\n};\r\n\r\n/*function* findUserAdsRequest(action) {\r\n  yield put ({ type: \"findRequest/pending\" })\r\n  const skip = yield select(getSkip)\r\n  if (action.payload.value === null) {\r\n    try {\r\n      const { AdCount } = yield call(findUserAllAdsCountRequest, action.payload.id);\r\n      console.log(\"AdCount\", AdCount);\r\n      const { AdFind } = yield call(findUserAllAdsDataRequest, action.payload.id, skip, action.payload.limit);\r\n      console.log(\"AdFind\", AdFind);\r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: AdFind,\r\n        adsCount: AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  } else {\r\n    try {\r\n      const { AdCount } = yield call(findUserAdsCountRequest, action.payload.id, action.payload.value);\r\n      console.log(\"AdCount\", AdCount);\r\n      const { AdFind } = yield call(findUserAdsDataRequest, action.payload.id, action.payload.value, skip, action.payload.limit);\r\n      console.log(\"AdFind\", AdFind);\r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: AdFind,\r\n        adsCount: AdCount\r\n      }});\r\n\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  }\r\n}*/\r\n\r\nfunction* findUserAdsRequest(action) {\r\n  yield put ({ type: \"findRequest/pending\" })\r\n  const skip = yield select(getSkip)\r\n  if (action.payload.value === null) {\r\n    try {\r\n      const arrPromise = yield Promise.all([\r\n        yield call(findUserAllAdsCountRequest, action.payload.id),\r\n        yield call(findUserAllAdsDataRequest, action.payload.id, skip, action.payload.limit)\r\n      ])\r\n      console.log(\"arrPromise\", arrPromise);\r\n      console.log(\"AdCount\", arrPromise[0].AdCount);\r\n      console.log(\"AdFind\", arrPromise[1].AdFind);\r\n      yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: arrPromise[1].AdFind,\r\n        adsCount: arrPromise[0].AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  } else {\r\n    try {\r\n      const arrPromise = yield Promise.all([\r\n        yield call(findUserAdsCountRequest, action.payload.id, action.payload.value),\r\n        yield call(findUserAdsDataRequest, action.payload.id, action.payload.value, skip, action.payload.limit)      ])\r\n      console.log(\"arrPromise\", arrPromise);\r\n      console.log(\"AdCount\", arrPromise[0].AdCount);\r\n      console.log(\"AdFind\", arrPromise[1].AdFind);\r\n       yield put({ type: \"findRequest/resolved\", payload: {\r\n        adsData: arrPromise[1].AdFind,\r\n        adsCount: arrPromise[0].AdCount\r\n      }});\r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"findRequest/rejected\" });\r\n    }\r\n  }\r\n}\r\n\r\nexport function* findUserAdsRequestSaga() {\r\n  yield takeLatest(\"adsUserFind/request\", findUserAdsRequest)\r\n}\r\n\r\nconst deleteAdMutation = gql`\r\n  mutation deleteAD($adId: ID) {\r\n    AdDelete(ad: {\r\n      _id: $adId\r\n     }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nasync function deleteUserAdRequest (id) {\r\n  const res = await API.request(deleteAdMutation, id)\r\n  return res\r\n};\r\n\r\nfunction* deleteAdRequest(action) {\r\n  yield put ({ type: \"findRequest/pending\" })\r\n  try {\r\n    const { AdDelete } = yield call(deleteUserAdRequest, action.payload);\r\n    console.log(\"AdDelete\", AdDelete);\r\n    yield put({ type: \"findRequest/resolved\", payload: {\r\n      adsData: null,\r\n      adsCount: null\r\n    }});\r\n  }\r\n  catch(e) {\r\n    yield put({ type: \"findRequest/rejected\" });\r\n  }\r\n}\r\n\r\nexport function* deleteAdRequestSaga() {\r\n  yield takeLatest(\"adUserDelete/request\", deleteAdRequest)\r\n}\r\n\r\n\r\n","const initialMessagesState = {\r\n  messageData: null,\r\n  messageSendStatus: \"resolved\",\r\n  isSendMessage: false,\r\n  isDisabled: false,\r\n  messageGetStatus: \"idle\",\r\n  isSendMessageYourself: false,\r\n  lastMessagesData: null\r\n};\r\n  \r\nfunction messagesReducer(state = initialMessagesState, action) {\r\n  switch (action.type) {\r\n    case \"messageSendRequest/buttonIsDisabled\":\r\n      return {\r\n        ...state,\r\n        isDisabled: true\r\n      };\r\n    case \"messageSendRequest/resolved\":\r\n      return {\r\n        ...state,\r\n        messageSendStatus: \"resolved\",\r\n        isSendMessage: true\r\n      };\r\n    case \"messageSendRequest/yourself\":\r\n      return {\r\n        ...state,\r\n        isSendMessageYourself: true\r\n      };  \r\n    case \"messageSendRequest/rejected\":\r\n      return {\r\n        ...state,\r\n        messageSendStatus: \"rejected\",\r\n        isDisabled: false\r\n      };\r\n    case \"messageSendRequest/info\":\r\n      return {\r\n        ...state,\r\n        isSendMessageYourself: false,\r\n        isSendMessage: false,\r\n        isDisabled: false\r\n      };\r\n    case \"messageGetRequest/resolved\":\r\n      return {\r\n        ...state,\r\n        messageGetStatus: \"resolved\",\r\n        messageData: action.payload,\r\n      };\r\n    case \"messageGetRequest/rejected\":\r\n      return {\r\n        ...state,\r\n        messageGetStatus: \"rejected\",\r\n      };\r\n    case \"messageGetRequest/pending\":\r\n      return {\r\n        ...state,\r\n        messageGetStatus: \"searching\",\r\n      };  \r\n    case \"lastMessages/array\":\r\n      return {\r\n        ...state,\r\n        lastMessagesData: action.payload,\r\n      };\r\n    case \"cancelMessageGet/request\":\r\n      return {\r\n        ...state,\r\n        ...initialMessagesState\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default messagesReducer;","export const getMessageData = state =>  state.messages.messageData\r\n\r\nexport const getLastMessagesData = state =>  state.messages.lastMessagesData\r\n\r\n\r\n","import { takeLatest, put, call, delay, select, cancel, take } from \"redux-saga/effects\";\r\nimport { gql } from \"graphql-request\";\r\nimport API from \"./../../API\"\r\nimport { getMessageData, getLastMessagesData } from \"./selectors\"\r\n\r\nconst addNewMessage = gql`\r\n  mutation addNewMessage($to: UserInput $text: String) {\r\n    MessageUpsert(message: {\r\n      to: $to,\r\n      text: $text,\r\n    }) {\r\n      _id\r\n    }\r\n  }\r\n`;\r\n\r\nasync function messageRequest (values) {\r\n  const data = await API.request(addNewMessage, values);\r\n  return data\r\n}\r\n\r\nfunction* sendMessageRequest(action) {\r\n  yield put ({ type: \"messageSendRequest/buttonIsDisabled\" })\r\n  try {\r\n    const { MessageUpsert }  = yield call(messageRequest, action.payload);\r\n    console.log(\"MessageUpsert\", MessageUpsert);\r\n    yield put({ type: \"messageSendRequest/resolved\" });\r\n    yield delay(1000);\r\n    yield put({ type: \"messageSendRequest/info\" })\r\n  }\r\n  catch(e) {\r\n    yield put({ type: \"messageSendRequest/rejected\" })\r\n  }\r\n}\r\n\r\nexport function* sendMessageRequestSaga() {\r\n  yield takeLatest(\"messageSend/request\", sendMessageRequest)\r\n}\r\n\r\nfunction* sendMessageYourself(action) {\r\n  yield put ({ type: \"messageSendRequest/buttonIsDisabled\" })\r\n  yield put ({ type: \"messageSendRequest/yourself\"})\r\n  yield delay(1000);\r\n  yield put({ type: \"messageSendRequest/info\" })\r\n}\r\n\r\nexport function* sendMessageYourselfSaga() {\r\n  yield takeLatest(\"messageSend/yourself\", sendMessageYourself)\r\n}\r\n\r\nconst messagesFind = gql`\r\n  query MessagesFind($query: String) {\r\n    MessageCount(query: $query) \r\n    MessageFind(query: $query) {\r\n      _id\r\n      owner {\r\n        _id\r\n        login\r\n        nick\r\n        avatar {\r\n          url\r\n        }\r\n      }\r\n      createdAt\r\n      to {\r\n        _id\r\n        login\r\n        nick\r\n        avatar {\r\n          url\r\n        }\r\n      }\r\n      text\r\n    }\r\n  }\r\n`;\r\n\r\nasync function messageFindRequest (id, sort, count = 0) {\r\n  const arrayMessages = [];\r\n  let data = await API.request(messagesFind, {\r\n    query: JSON.stringify([\r\n      {\r\n        $or: [{___owner: id}, {\"to._id\": {$eq: id}}]  \r\n      },\r\n      {\r\n        sort: [{_id: Number(sort)}],\r\n        skip: [count]\r\n      }\r\n    ])\r\n  })\r\n  arrayMessages.push(data.MessageFind)\r\n  if (data.MessageCount > 100) {\r\n    count += 100\r\n    const res = await messageFindRequest (id, sort, count)\r\n    arrayMessages.push(res)\r\n  }\r\n  data = arrayMessages.flat()\r\n  console.log(\"data\", data)\r\n  return data\r\n}\r\n\r\nconst filterArrayMessages = (arr, id) => {\r\n  if (arr.length === 0) {\r\n    return null\r\n  }\r\n  const array = []\r\n  const tempArray = arr.filter(elem => arr[0].owner._id === id ?\r\n    elem.owner._id !== arr[0].to._id :\r\n    elem.owner._id !== arr[0].owner._id\r\n  ).filter(elem => arr[0].owner._id === id ? \r\n    elem.to._id !== arr[0].to._id :\r\n    elem.to._id !== arr[0].owner._id\r\n    )\r\n\r\n  console.log(\"tempArray\", tempArray)\r\n  if (tempArray.length !== 0) {\r\n    const res = filterArrayMessages(tempArray, id)\r\n    array.push(...res)\r\n  }\r\n  array.push(arr[0])\r\n  return array\r\n}\r\n\r\nfunction* getMessageRequest(action) {\r\n  while(true) {\r\n    const messageData = yield select(getMessageData);\r\n    const lastMessagesData = yield select(getLastMessagesData);\r\n    if (messageData === null) {\r\n      yield put ({ type: \"messageGetRequest/pending\" })\r\n      try {\r\n        const messageFind = yield call(messageFindRequest, action.payload, -1);\r\n        console.log(\"MessageFind\", messageFind);\r\n        yield put({ type: \"messageGetRequest/resolved\", payload: messageFind })\r\n        const lastMessages = yield call(filterArrayMessages, messageFind, action.payload);\r\n        yield put({ type: \"lastMessages/array\", payload: lastMessages})\r\n        console.log(\"LastMessages\", lastMessages)\r\n        yield delay(2000);\r\n      }\r\n      catch(e) {\r\n        yield put({ type: \"messageGetRequest/rejected\" });\r\n      }\r\n    } else {\r\n      try {\r\n        const messageFind = yield call(messageFindRequest, action.payload, 1, messageData.length);\r\n        console.log(\"messageFind\", messageFind);\r\n        if (messageFind.length !== 0) {\r\n          yield put({ type: \"messageGetRequest/resolved\", payload: messageFind.concat(messageData) })\r\n          const arrLastMessages = messageFind.concat(lastMessagesData.reverse())\r\n          console.log(\"arrLastMessages\", arrLastMessages)\r\n          const lastMessages = yield call(filterArrayMessages, arrLastMessages, action.payload);\r\n          console.log(\"lastMessages\", lastMessages)\r\n          yield put({ type: \"lastMessages/array\", payload: lastMessages})\r\n        }\r\n        yield delay(2000);\r\n      }\r\n      catch(e) {\r\n        yield put({ type: \"messageGetRequest/rejected\" });\r\n      }\r\n\r\n    } \r\n  }\r\n}\r\n\r\nexport function* getMessageRequestSaga() {\r\n  while(true) {\r\n    const task = yield takeLatest(\"messageGet/request\", getMessageRequest);\r\n    console.log(\"task\", task);\r\n    const action = yield take(\"cancelMessageGet/request\");\r\n    console.log(\"action\", action);\r\n    yield cancel(task);\r\n    console.log(\"canceled\", task.isCancelled());\r\n  }\r\n}\r\n\r\nasync function oneUserMessagefindRequest (id, _id, count = 0) {\r\n  const arrayMessages = [];\r\n  let data = await API.request(messagesFind, {\r\n    query: JSON.stringify([\r\n      {\r\n        $or: [{___owner: id, \"to._id\": {$eq: _id}}, {___owner: _id, \"to._id\": {$eq: id}}]  \r\n      },\r\n      {\r\n        sort: [{_id: 1}],\r\n        skip: [count]\r\n      }\r\n    ])\r\n  })\r\n  arrayMessages.push(data.MessageFind)\r\n  if (data.MessageCount > 100) {\r\n    count += 100\r\n    const res = await messageFindRequest (id, count)\r\n    console.log(\"res\", res)\r\n    arrayMessages.push(res)\r\n  }\r\n  data = arrayMessages.flat()\r\n  console.log(\"data\", data)\r\n  return data\r\n}\r\n\r\n\r\nfunction* getOneUserMessageRequest(action) {\r\n  while(true) {\r\n    const messageData = yield select(getMessageData);\r\n    if (messageData === null) {\r\n      yield put ({ type: \"messageGetRequest/pending\" })\r\n      try {\r\n        const messageFind = yield call(oneUserMessagefindRequest, action.payload.id, action.payload._id);\r\n        console.log(\"MessageFind\", messageFind);\r\n        yield put({ type: \"messageGetRequest/resolved\", payload: messageFind })\r\n        yield delay(2000);\r\n      }\r\n      catch(e) {\r\n        yield put({ type: \"messageGetRequest/rejected\" });\r\n      }\r\n    } else {\r\n      try {\r\n        const lastMessageFind = yield call(oneUserMessagefindRequest, action.payload.id, action.payload._id, messageData.length);\r\n        console.log(\"LastMessageFind\", lastMessageFind);\r\n        if (lastMessageFind.length !== 0) {\r\n          yield put({ type: \"messageGetRequest/resolved\", payload: messageData.concat(lastMessageFind) })\r\n        }\r\n        yield delay(2000);\r\n      }\r\n      catch(e) {\r\n        yield put({ type: \"messageGetRequest/rejected\" });\r\n      }\r\n\r\n    } \r\n  }\r\n}\r\n\r\nexport function* getOneUserMessageRequestSaga() {\r\n  while(true) {\r\n    const task = yield takeLatest(\"oneUserMessageGet/request\", getOneUserMessageRequest);\r\n    console.log(\"task\", task);\r\n    const action = yield take(\"cancelMessageGet/request\");\r\n    console.log(\"action\", action);\r\n    yield cancel(task);\r\n    console.log(\"canceled\", task.isCancelled());\r\n  }\r\n}\r\n\r\n\r\n","const initialImagesState = {\r\n  arrImages: [],\r\n  status: \"idle\",\r\n};\r\n  \r\nfunction imagesReducer(state = initialImagesState, action) {\r\n  switch (action.type) {\r\n    case \"request/pending\":\r\n      return {\r\n        ...state,\r\n        status: \"searching\"\r\n      };\r\n    case \"request/resolved\":\r\n      return {\r\n        ...state,\r\n        status: \"resolved\",\r\n      };\r\n    case \"request/rejected\":\r\n      return {\r\n        ...state,\r\n        status: \"rejected\",\r\n      };\r\n    case \"request/finding\":\r\n      return {\r\n        ...state,\r\n        status: \"idle\",\r\n      };  \r\n    case \"arrImages/formed\":\r\n      return {\r\n        ...state,\r\n        arrImages: action.payload\r\n      };\r\n    case \"request/reset\":\r\n      return {\r\n        ...state,\r\n        ...initialImagesState\r\n      };    \r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default imagesReducer;","export const getArrImages = state =>  state.images.arrImages\r\n","export const getToken = state =>  state.auth.token\r\n","import { takeLatest, put, call, select } from \"redux-saga/effects\";\r\nimport { getArrImages } from \"./selectors\"\r\nimport { getToken } from \"../auth/selectors\"\r\nimport { NO_CORS } from \"../../API\"\r\n\r\nasync function imageDataRequest (file, token) {\r\n  const formData = new FormData();\r\n  formData.append(\"photo\", file);\r\n  console.log(\"file\", file);\r\n  const imageJson = await fetch(\r\n    `${NO_CORS}http://marketplace.asmer.fs.a-level.com.ua/upload`, {\r\n    method: \"POST\",\r\n    headers: token\r\n      ? { Authorization: \"Bearer \" + token }\r\n      : {},\r\n    body: formData\r\n  })\r\n  console.log(\"imageJson\", imageJson)\r\n  const imageData = await imageJson.json();\r\n  console.log(\"imageDataFetch\", imageData)\r\n  return imageData\r\n}\r\n\r\nfunction* getArrayImages(action) {\r\n  yield put ({ type: \"request/pending\" });\r\n  const token = yield select(getToken);\r\n  const files = action.payload;\r\n  for (let i=0; i < files.length; i++) {\r\n    try {\r\n      const arrImages = yield select(getArrImages)\r\n      console.log(\"arrImagesSaga\", arrImages)\r\n      const imageData = yield call(imageDataRequest, files[i], token);\r\n      console.log(\"imageData\", imageData)\r\n      yield put({ type: \"arrImages/formed\", payload: arrImages.concat(imageData) });\r\n      if (i === files.length - 1) {\r\n        yield put({ type: \"request/finding\" });\r\n      } \r\n    }\r\n    catch(e) {\r\n      yield put({ type: \"request/rejected\" });\r\n    }\r\n  }\r\n}\r\n\r\nexport function* getArrImagesSaga() {\r\n  yield takeLatest(\"getArrImages/request\", getArrayImages)\r\n}","import { combineReducers } from \"redux\";\r\nimport { authReducer } from \"./../services/auth\";\r\nimport { adsReducer } from \"./../services/ads\";\r\nimport { messagesReducer } from \"./../services/messages\"\r\nimport { imagesReducer } from \"./../services/images\"\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  ads: adsReducer,\r\n  messages: messagesReducer,\r\n  images: imagesReducer\r\n});\r\n","import { \r\n  loginRequestSaga, \r\n  registrationRequestSaga,\r\n  changePasswordRequestSaga,\r\n} from \"./../services/auth/login-sagas\"\r\n\r\nimport {\r\n  findAdsRequestSaga,\r\n  findUserAdsRequestSaga,\r\n  deleteAdRequestSaga\r\n} from \"./../services/ads/ads-sagas\"\r\n\r\nimport {\r\n  sendMessageYourselfSaga,\r\n  sendMessageRequestSaga,\r\n  getMessageRequestSaga,\r\n  getOneUserMessageRequestSaga\r\n} from \"./../services/messages/messages-sagas\"\r\n\r\nimport { getArrImagesSaga } from \"./../services/images/images-saga\"\r\n\r\nimport { all } from \"redux-saga/effects\";\r\n\r\n\r\nfunction* rootSaga() {\r\n  yield all([\r\n    loginRequestSaga(),\r\n    registrationRequestSaga(),\r\n    changePasswordRequestSaga(),\r\n    findAdsRequestSaga(),\r\n    findUserAdsRequestSaga(),\r\n    deleteAdRequestSaga(),\r\n    sendMessageYourselfSaga(),\r\n    sendMessageRequestSaga(),\r\n    getMessageRequestSaga(),\r\n    getOneUserMessageRequestSaga(),\r\n    getArrImagesSaga()\r\n  ]);\r\n}\r\n\r\nexport default rootSaga\r\n\r\n\r\n","import { createStore, applyMiddleware } from \"redux\";\r\nimport createSagaMiddleware from \"redux-saga\";\r\nimport rootReducer from \"./root-reducer\"\r\nimport rootSaga from \"./root-saga\"\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\r\n\r\nsagaMiddleware.run(rootSaga)\r\n\r\nexport default store","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store/configure-store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}